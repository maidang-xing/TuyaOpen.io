"use strict";(self.webpackChunktuyaopen_io_website=self.webpackChunktuyaopen_io_website||[]).push([["4268"],{7619:function(e,t,n){n.r(t),n.d(t,{metadata:()=>i,default:()=>S,frontMatter:()=>A,contentTitle:()=>T,toc:()=>I,assets:()=>O});var i=JSON.parse('{"id":"tos-tools/tools-tyutool","title":"Introduction to tyutool Tool","description":"Overview","source":"@site/docs/tos-tools/tools-tyutool.md","sourceDirName":"tos-tools","slug":"/tos-tools/tools-tyutool","permalink":"/docs/tos-tools/tools-tyutool","draft":false,"unlisted":false,"editUrl":"https://github.com/Tuya-Community/TuyaOpen.io/edit/master/docs/tos-tools/tools-tyutool.md","tags":[],"version":"current","frontMatter":{"title":"Introduction to tyutool Tool"},"sidebar":"docs","previous":{"title":"tos.py Guide","permalink":"/docs/tos-tools/tos-guide"},"next":{"title":"Compilation Guide","permalink":"/docs/build-system/compilation-guide"}}'),o=n(4848),r=n(8453),s=n(6540),l=n(4164),a=n(8287),c=n(8584),h=n(6347),d=n(9989),u=n(6629),f=n(618),p=n(1367);function m(e){return s.Children.toArray(e).filter(e=>"\n"!==e).map(e=>{if(!e||(0,s.isValidElement)(e)&&function(e){let{props:t}=e;return!!t&&"object"==typeof t&&"value"in t}(e))return e;throw Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)})?.filter(Boolean)??[]}function x({value:e,tabValues:t}){return t.some(t=>t.value===e)}var g=n(9863);function y({className:e,block:t,selectedValue:n,selectValue:i,tabValues:r}){let s=[],{blockElementScrollPositionUntilNextRender:a}=(0,c.a_)(),h=e=>{let t=e.currentTarget,o=r[s.indexOf(t)].value;o!==n&&(a(t),i(o))},d=e=>{let t=null;switch(e.key){case"Enter":h(e);break;case"ArrowRight":{let n=s.indexOf(e.currentTarget)+1;t=s[n]??s[0];break}case"ArrowLeft":{let n=s.indexOf(e.currentTarget)-1;t=s[n]??s[s.length-1]}}t?.focus()};return(0,o.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,l.A)("tabs",{"tabs--block":t},e),children:r.map(({value:e,label:t,attributes:i})=>(0,o.jsx)("li",{role:"tab",tabIndex:n===e?0:-1,"aria-selected":n===e,ref:e=>{s.push(e)},onKeyDown:d,onClick:h,...i,className:(0,l.A)("tabs__item","tabItem_LNqP",i?.className,{"tabs__item--active":n===e}),children:t??e},e))})}function j({lazy:e,children:t,selectedValue:n}){let i=(Array.isArray(t)?t:[t]).filter(Boolean);if(e){let e=i.find(e=>e.props.value===n);return e?(0,s.cloneElement)(e,{className:(0,l.A)("margin-top--md",e.props.className)}):null}return(0,o.jsx)("div",{className:"margin-top--md",children:i.map((e,t)=>(0,s.cloneElement)(e,{key:t,hidden:e.props.value!==n}))})}function b(e){let t=function(e){let t,{defaultValue:n,queryString:i=!1,groupId:o}=e,r=function(e){let{values:t,children:n}=e;return(0,s.useMemo)(()=>{let e=t??m(n).map(({props:{value:e,label:t,attributes:n,default:i}})=>({value:e,label:t,attributes:n,default:i})),i=(0,f.XI)(e,(e,t)=>e.value===t.value);if(i.length>0)throw Error(`Docusaurus error: Duplicate values "${i.map(e=>e.value).join(", ")}" found in <Tabs>. Every value needs to be unique.`);return e},[t,n])}(e),[l,a]=(0,s.useState)(()=>(function({defaultValue:e,tabValues:t}){if(0===t.length)throw Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(e){if(!x({value:e,tabValues:t}))throw Error(`Docusaurus error: The <Tabs> has a defaultValue "${e}" but none of its children has the corresponding value. Available values are: ${t.map(e=>e.value).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return e}let n=t.find(e=>e.default)??t[0];if(!n)throw Error("Unexpected error: 0 tabValues");return n.value})({defaultValue:n,tabValues:r})),[c,g]=function({queryString:e=!1,groupId:t}){let n=(0,h.W6)(),i=function({queryString:e=!1,groupId:t}){if("string"==typeof e)return e;if(!1===e)return null;if(!0===e&&!t)throw Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return t??null}({queryString:e,groupId:t});return[(0,u.aZ)(i),(0,s.useCallback)(e=>{if(!i)return;let t=new URLSearchParams(n.location.search);t.set(i,e),n.replace({...n.location,search:t.toString()})},[i,n])]}({queryString:i,groupId:o}),[y,j]=function({groupId:e}){let t=e?`docusaurus.tab.${e}`:null,[n,i]=(0,p.Dv)(t);return[n,(0,s.useCallback)(e=>{t&&i.set(e)},[t,i])]}({groupId:o}),b=x({value:t=c??y,tabValues:r})?t:null;return(0,d.A)(()=>{b&&a(b)},[b]),{selectedValue:l,selectValue:(0,s.useCallback)(e=>{if(!x({value:e,tabValues:r}))throw Error(`Can't select invalid tab value=${e}`);a(e),g(e),j(e)},[g,j,r]),tabValues:r}}(e);return(0,o.jsxs)("div",{className:(0,l.A)(a.G.tabs.container,"tabs-container","tabList__CuJ"),children:[(0,o.jsx)(y,{...t,...e}),(0,o.jsx)(j,{...t,...e})]})}function v(e){let t=(0,g.A)();return(0,o.jsx)(b,{...e,children:m(e.children)},String(t))}function w({children:e,hidden:t,className:n}){return(0,o.jsx)("div",{role:"tabpanel",className:(0,l.A)("tabItem_Ymn6",n),hidden:t,children:e})}let A={title:"Introduction to tyutool Tool"},T,O={},I=[{value:"Overview",id:"overview",level:2},{value:"Firmware Flashing",id:"firmware-flashing",level:2},{value:"Device Authorization Information Writing",id:"device-authorization-information-writing",level:2},{value:"Frequently Asked Questions",id:"frequently-asked-questions",level:2},{value:"Always fails during <code>write</code> in the burning process",id:"always-fails-during-write-in-the-burning-process",level:3}];function C(e){let t={a:"a",admonition:"admonition",code:"code",h2:"h2",h3:"h3",img:"img",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,r.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(t.h2,{id:"overview",children:"Overview"}),"\n",(0,o.jsx)(t.p,{children:"tyutool is a flashing and authorization tool provided for the TuyaOpen project. The tyutool tool comes in two versions: GUI and CLI. The GUI version provides a graphical interface, while the CLI version provides a command-line interface."}),"\n",(0,o.jsx)(t.admonition,{type:"danger",children:(0,o.jsx)(t.p,{children:"The authorization function of tyutool is only applicable to the TuyaOpen project and does not support the TuyaOS project. The authorization code for the TuyaOpen project is only valid for TuyaOpen, and the authorization code for the TuyaOS project is only valid for TuyaOS. The two are not interchangeable."})}),"\n",(0,o.jsx)(t.p,{children:"the tyutool tool supports Windows, Linux, and macOS. Developers can choose the appropriate version according to their operating system."}),"\n",(0,o.jsxs)(t.table,{children:[(0,o.jsx)(t.thead,{children:(0,o.jsxs)(t.tr,{children:[(0,o.jsx)(t.th,{style:{textAlign:"center"},children:"Platform"}),(0,o.jsx)(t.th,{style:{textAlign:"center"},children:"Source(Recommend)"}),(0,o.jsx)(t.th,{style:{textAlign:"center"},children:"Release"})]})}),(0,o.jsxs)(t.tbody,{children:[(0,o.jsxs)(t.tr,{children:[(0,o.jsx)(t.td,{style:{textAlign:"center"},children:"Github"}),(0,o.jsx)(t.td,{style:{textAlign:"center"},children:(0,o.jsx)(t.a,{href:"https://github.com/tuya/tyutool",children:"github-source"})}),(0,o.jsx)(t.td,{style:{textAlign:"center"},children:(0,o.jsx)(t.a,{href:"https://github.com/tuya/tyutool/releases",children:"github-release"})})]}),(0,o.jsxs)(t.tr,{children:[(0,o.jsx)(t.td,{style:{textAlign:"center"},children:"Gitee"}),(0,o.jsx)(t.td,{style:{textAlign:"center"},children:(0,o.jsx)(t.a,{href:"https://gitee.com/tuya-open/tyutool",children:"gitee-source"})}),(0,o.jsx)(t.td,{style:{textAlign:"center"},children:(0,o.jsx)(t.a,{href:"https://gitee.com/tuya-open/tyutool/releases",children:"gitee-release"})})]})]})]}),"\n",(0,o.jsx)(t.admonition,{type:"note",children:(0,o.jsxs)(t.p,{children:["The ",(0,o.jsx)(t.code,{children:"tos.py flash"})," command ultimately calls the tyutool_cli tool. The tyutool_gui tool is a graphical interface built on top of tyutool_cli."]})}),"\n",(0,o.jsx)(t.p,{children:"The following will introduce the usage instructions for flashing and authorization with the tyutool_gui tool."}),"\n",(0,o.jsx)(t.h2,{id:"firmware-flashing",children:"Firmware Flashing"}),"\n",(0,o.jsx)(t.p,{children:"After opening tyutool_gui, the interface is displayed as follows:"}),"\n",(0,o.jsx)("img",{src:"https://images.tuyacn.com/fe-static/docs/img/2435baae-cdd9-4261-9d68-2813cea93105.png",alt:"tyutools_flash",width:"550"}),"\n",(0,o.jsxs)(t.ul,{children:["\n",(0,o.jsx)(t.li,{children:"\u2460 Select the chip/module model to be flashed"}),"\n",(0,o.jsxs)(t.li,{children:["\u2461 Click Browse to select the firmware file to be flashed (the bin file containing ",(0,o.jsx)(t.code,{children:"_QIO"}),")"]}),"\n",(0,o.jsx)(t.li,{children:"\u2462 Click Rescan to scan device ports, then select the device port to be flashed"}),"\n",(0,o.jsx)(t.li,{children:"\u2463 Click Start to begin flashing the firmware"}),"\n"]}),"\n",(0,o.jsx)(t.p,{children:"After the firmware is successfully flashed, the following log output will appear:"}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{children:"[INFO]: Write Start.\n[INFO]: Waiting Reset ...\n[INFO]: unprotect flash OK.\n[INFO]: sync baudrate 921600 success\n[INFO]: Erase flash success\n[INFO]: Write flash success\n[INFO]: CRC check success\n[INFO]: Reboot done\n"})}),"\n",(0,o.jsx)(t.admonition,{type:"tip",children:(0,o.jsx)(t.p,{children:"The default baud rate for flashing is 921600. If you find the flashing speed too slow, you can increase the baud rate appropriately. However, increasing the baud rate may cause the firmware flashing to fail."})}),"\n",(0,o.jsx)(t.h2,{id:"device-authorization-information-writing",children:"Device Authorization Information Writing"}),"\n",(0,o.jsx)(t.p,{children:"When you need to use the functions of the Tuya IoT platform, you must first authorize the device. You can use the tyutool_gui tool for device authorization. The following are the specific operation steps."}),"\n",(0,o.jsxs)(t.p,{children:["After opening the tyutool_gui tool, click the ",(0,o.jsx)(t.code,{children:"Serial"})," tab. The interface is as follows:"]}),"\n",(0,o.jsx)("img",{src:"https://images.tuyacn.com/fe-static/docs/img/563acc7d-28b2-495c-9dcb-4dfefa1e6c39.png",alt:"tyutools_serial",width:"550"}),"\n",(0,o.jsxs)(t.ul,{children:["\n",(0,o.jsxs)(t.li,{children:["\u2460 Click the ",(0,o.jsx)(t.code,{children:"Serial"})," tab"]}),"\n",(0,o.jsxs)(t.li,{children:["\u2461 Click ",(0,o.jsx)(t.code,{children:"COM"})," to scan device ports"]}),"\n",(0,o.jsx)(t.li,{children:"\u2462 Select the device port to be authorized"}),"\n",(0,o.jsxs)(t.li,{children:["\u2463 Click ",(0,o.jsx)(t.code,{children:"Start"})," to connect the device"]}),"\n"]}),"\n",(0,o.jsx)(t.admonition,{type:"tip",children:(0,o.jsx)(t.p,{children:"The authorization UART and the flashing UART are the same. Keep the UART default configuration (baud rate: 115200, data bits: 8, stop bits: 1, parity: none)."})}),"\n",(0,o.jsxs)(t.p,{children:["After the device serial port is successfully connected, the ",(0,o.jsx)(t.code,{children:"Authorize"})," button will become available. Click the ",(0,o.jsx)(t.code,{children:"Authorize"})," button to pop up the following interface:"]}),"\n",(0,o.jsx)("img",{src:"https://images.tuyacn.com/fe-static/docs/img/f1f18bee-808e-4368-97ff-9564eed0c4bc.png",alt:"tyutools_authorize",width:"550"}),"\n",(0,o.jsxs)(t.ul,{children:["\n",(0,o.jsxs)(t.li,{children:["\u2461 Enter the ",(0,o.jsx)(t.code,{children:"UUID"})," in the authorization information"]}),"\n",(0,o.jsxs)(t.li,{children:["\u2462 Enter the ",(0,o.jsx)(t.code,{children:"AuthKey"})," in the authorization information"]}),"\n",(0,o.jsxs)(t.li,{children:["\u2463 Click the ",(0,o.jsx)(t.code,{children:"Authorize"})," button to authorize the device"]}),"\n"]}),"\n",(0,o.jsx)(t.admonition,{type:"info",children:(0,o.jsxs)(t.p,{children:["The TuyaOpen ",(0,o.jsx)(t.code,{children:"UUID"})," and ",(0,o.jsx)(t.code,{children:"AuthKey"})," can be obtained from the ",(0,o.jsx)(t.a,{href:"https://platform.tuya.com/purchase/index?type=6",children:"Tuya IoT Platform"})," or purchased from ",(0,o.jsx)(t.a,{href:"https://item.taobao.com/item.htm?ft=t&id=911596682625&spm=a21dvs.23580594.0.0.621e2c1bzX1OIP",children:"Tuya's official Taobao store"}),"."]})}),"\n",(0,o.jsxs)(t.p,{children:["After successful authorization, you can use the ",(0,o.jsx)(t.code,{children:"auth-read"})," command to verify:"]}),"\n",(0,o.jsx)(t.p,{children:(0,o.jsx)(t.img,{alt:"auth-read",src:n(2311).A+"",width:"802",height:"832"})}),"\n",(0,o.jsx)(t.h2,{id:"frequently-asked-questions",children:"Frequently Asked Questions"}),"\n",(0,o.jsxs)(t.h3,{id:"always-fails-during-write-in-the-burning-process",children:["Always fails during ",(0,o.jsx)(t.code,{children:"write"})," in the burning process"]}),"\n",(0,o.jsx)(t.p,{children:"For the CH34x series, you can try installing or updating the driver."}),"\n",(0,o.jsxs)(t.p,{children:[(0,o.jsx)(t.strong,{children:"Windows"}),": ",(0,o.jsx)(t.a,{href:"https://www.wch.cn/downloads/ch343ser_exe.html",children:"https://www.wch.cn/downloads/ch343ser_exe.html"})]}),"\n",(0,o.jsxs)(t.p,{children:[(0,o.jsx)(t.strong,{children:"Mac"}),": ",(0,o.jsx)(t.a,{href:"https://www.wch.cn/downloads/CH34XSER_MAC_ZIP.html",children:"https://www.wch.cn/downloads/CH34XSER_MAC_ZIP.html"})]}),"\n",(0,o.jsxs)(t.p,{children:["After installing the driver on Mac, you need to allow the driver to load in ",(0,o.jsx)(t.strong,{children:"Security Settings"}),"."]}),"\n",(0,o.jsxs)(t.p,{children:["If the driver is installed successfully, the CH34x device will be recognized with a name starting with ",(0,o.jsx)(t.code,{children:"cu.wchusb"}),". Otherwise, the driver installation was not successful."]}),"\n",(0,o.jsxs)(v,{children:[(0,o.jsxs)(w,{value:"13",label:"MacOS 13",default:!0,children:[(0,o.jsxs)(t.p,{children:["On ",(0,o.jsx)(t.strong,{children:"MacOS 13"}),', operate in "Privacy & Security".']}),(0,o.jsx)(t.p,{children:(0,o.jsx)(t.img,{alt:"MacOS 13",src:n(1107).A+"",width:"1416",height:"1362"})})]}),(0,o.jsxs)(w,{value:"15",label:"MacOS 15",children:[(0,o.jsxs)(t.p,{children:["On ",(0,o.jsx)(t.strong,{children:"MacOS 15"}),', search for "login" in "Settings" to proceed.']}),(0,o.jsx)(t.p,{children:(0,o.jsx)(t.img,{alt:"MacOS 15",src:n(6389).A+"",width:"684",height:"774"})})]})]})]})}function S(e={}){let{wrapper:t}={...(0,r.R)(),...e.components};return t?(0,o.jsx)(t,{...e,children:(0,o.jsx)(C,{...e})}):C(e)}},2311:function(e,t,n){n.d(t,{A:()=>i});let i=n.p+"assets/images/auth-read-8c3f9912ec43ba5cf81fa7760bc58a99.png"},1107:function(e,t,n){n.d(t,{A:()=>i});let i=n.p+"assets/images/macos13-e998f92052d619bf574b794b24a4ff7c.png"},6389:function(e,t,n){n.d(t,{A:()=>i});let i=n.p+"assets/images/macos15-ff7a46228a1fb351f79cc691dc24f263.png"},8453:function(e,t,n){n.d(t,{R:()=>s,x:()=>l});var i=n(6540);let o={},r=i.createContext(o);function s(e){let t=i.useContext(r);return i.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function l(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:s(e.components),i.createElement(r.Provider,{value:t},e.children)}}}]);