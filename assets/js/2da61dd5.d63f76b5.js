"use strict";(self.webpackChunktuyaopen_io_website=self.webpackChunktuyaopen_io_website||[]).push([["2395"],{639:function(e,n,r){r.r(n),r.d(n,{metadata:()=>i,default:()=>h,frontMatter:()=>s,contentTitle:()=>a,toc:()=>l,assets:()=>d});var i=JSON.parse('{"id":"projects/2025-09-19-T5+2M-ASR-PRO-custom-asr","title":"T5+2M-ASR-PRO Custom Wake Words","description":"Project Introduction","source":"@site/docs/projects/2025-09-19-T5+2M-ASR-PRO-custom-asr.md","sourceDirName":"projects","slug":"/projects/2025-09-19-T5+2M-ASR-PRO-custom-asr","permalink":"/docs/projects/2025-09-19-T5+2M-ASR-PRO-custom-asr","draft":false,"unlisted":false,"editUrl":"https://github.com/Tuya-Community/TuyaOpen.io/edit/master/docs/projects/2025-09-19-T5+2M-ASR-PRO-custom-asr.md","tags":[],"version":"current","frontMatter":{"title":"T5+2M-ASR-PRO Custom Wake Words"}}'),t=r(4848),o=r(8453);let s={title:"T5+2M-ASR-PRO Custom Wake Words"},a,d={},l=[{value:"Project Introduction",id:"project-introduction",level:2},{value:"Required Materials",id:"required-materials",level:2},{value:"2M ASR PRO Speech Recognition Module (Core Board)",id:"2m-asr-pro-speech-recognition-module-core-board",level:2},{value:"Hardware Wiring Instructions",id:"hardware-wiring-instructions",level:2},{value:"ASR PRO Flashing Wiring",id:"asr-pro-flashing-wiring",level:3},{value:"T5 Development Board to ASR PRO Module Connection",id:"t5-development-board-to-asr-pro-module-connection",level:3},{value:"Demo Video",id:"demo-video",level:3},{value:"ASR PRO Program Development",id:"asr-pro-program-development",level:2},{value:"Example Program",id:"example-program",level:3},{value:"Downloads",id:"downloads",level:3},{value:"Firmware Flashing",id:"firmware-flashing",level:3},{value:"T5 Program Development",id:"t5-program-development",level:2},{value:"IO Wakeup",id:"io-wakeup",level:3},{value:"Serial Wakeup",id:"serial-wakeup",level:3}];function c(e){let n={a:"a",code:"code",h2:"h2",h3:"h3",li:"li",p:"p",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,o.R)(),...e.components},{BackToProjects:r}=n;return r||function(e,n){throw Error("Expected "+(n?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("BackToProjects",!0),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(r,{}),"\n",(0,t.jsx)(n.h2,{id:"project-introduction",children:"Project Introduction"}),"\n",(0,t.jsx)(n.p,{children:"The T5 platform supports a limited set of default wake words, for example:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:'TuyaOS supports three default wake words: "Nihao Tuya" (Hello Tuya), "Xiao Zhi Tongxue" (Classmate Zhi), and "Hey, Tuya" (English).'}),"\n",(0,t.jsx)(n.li,{children:'TuyaOpen supports four default wake words: "Nihao Tuya", "Xiao Zhi Tongxue", "Xiao Zhi Guanjia" (Butler Zhi), and "Nihao Xiao Zhi".'}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"If you want to customize the wake word, there are three solutions:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Add a voice recognition module"}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"https://developer.tuya.com/cn/docs/iot-device-dev/tuyaos-wukong-capability-wakeup-internal?id=Keia2dqx0v23b#title-3-%E6%9B%BF%E6%8D%A2%E5%94%A4%E9%86%92%E7%AE%97%E6%B3%95",children:"Replace the wake word algorithm"})}),"\n",(0,t.jsx)(n.li,{children:"Custom wake word (for customization, please contact Tuya sales)"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"This tutorial introduces the first solution: adding a voice recognition module. This approach has the following advantages:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Low technical barrier, no need to understand audio algorithms."}),"\n",(0,t.jsx)(n.li,{children:"Supports multiple wake words with Tuya AI Agent multi-role feature. Different wake words can correspond to different roles, avoiding awkward mismatches between roles and wake words."}),"\n",(0,t.jsx)(n.li,{children:"Supports offline speech recognition. The ASR PRO module supports offline neural network computation, enabling speech recognition without relying on a network. This ensures normal operation even in environments with no or unstable network connectivity."}),"\n",(0,t.jsx)(n.li,{children:"High recognition rate. The ASR PRO module features strong echo cancellation and environmental noise suppression, maintaining high speech recognition accuracy even in noisy environments. The recognition rate can reach over 98%, with a response time of less than 0.15 seconds."}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"required-materials",children:"Required Materials"}),"\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"Hardware"}),(0,t.jsx)(n.th,{children:"Function/Parameters"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"T5 Development Board"}),(0,t.jsx)(n.td,{children:"Provides core AI conversation functionality"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"ASR PRO Module"}),(0,t.jsx)(n.td,{children:"Supports custom wake words and offline speech recognition"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Serial Board or ASR-LINK Downloader"}),(0,t.jsx)(n.td,{children:"A standard CH340 serial board is sufficient for downloading programs to ASR PRO. If available, you can purchase the ASR-LINK automatic downloader."})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Microphone"}),(0,t.jsx)(n.td,{children:"Used for audio pickup by the ASR PRO module"})]})]})]}),"\n",(0,t.jsx)(n.h2,{id:"2m-asr-pro-speech-recognition-module-core-board",children:"2M ASR PRO Speech Recognition Module (Core Board)"}),"\n",(0,t.jsxs)(n.p,{children:["Chip datasheet: ",(0,t.jsx)(n.a,{href:"https://www.haohaodada.com/jpeguploadfile/twen/ASRPRO/ASRPROCoreV1.1.pdf",children:"View here"})]}),"\n",(0,t.jsx)(n.p,{children:"Appearance:"}),"\n",(0,t.jsx)("img",{alt:"Chip Datasheet",src:"https://images.tuyacn.com/content-platform/hestia/1756373260721d3bdc55a.png",width:"400"}),"\n",(0,t.jsx)(n.h2,{id:"hardware-wiring-instructions",children:"Hardware Wiring Instructions"}),"\n",(0,t.jsx)(n.p,{children:"First, you need to program and flash firmware to the ASR PRO, then connect the ASR PRO module to the T5 development board. Therefore, wiring is divided into two parts:"}),"\n",(0,t.jsx)(n.h3,{id:"asr-pro-flashing-wiring",children:"ASR PRO Flashing Wiring"}),"\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"ASR PRO Module"}),(0,t.jsx)(n.th,{children:"Serial Board"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"GND"}),(0,t.jsx)(n.td,{children:"GND"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"5V"}),(0,t.jsx)(n.td,{children:"5V"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"PB5 (UART0 TX)"}),(0,t.jsx)(n.td,{children:"RX"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"PB6 (UART0 RX)"}),(0,t.jsx)(n.td,{children:"TX"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"MIC +"}),(0,t.jsx)(n.td,{children:"Mic +"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"MIC -"}),(0,t.jsx)(n.td,{children:"Mic -"})]})]})]}),"\n",(0,t.jsx)(n.h3,{id:"t5-development-board-to-asr-pro-module-connection",children:"T5 Development Board to ASR PRO Module Connection"}),"\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"T5 Development Board"}),(0,t.jsx)(n.th,{children:"ASR PRO Module"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"GND"}),(0,t.jsx)(n.td,{children:"GND"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"5V"}),(0,t.jsx)(n.td,{children:"5V"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"P10 (UART0 TX)"}),(0,t.jsx)(n.td,{children:"PB5 (RX)"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"P11 (UART0 RX)"}),(0,t.jsx)(n.td,{children:"PB6 (TX)"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"P12 (Wake Pin)"}),(0,t.jsxs)(n.td,{children:["PA4 (Demo use, customizable). ",(0,t.jsx)(n.strong,{children:"Note"}),": If using serial wakeup, you can skip connecting the P12 wake pin."]})]})]})]}),"\n",(0,t.jsx)(n.h3,{id:"demo-video",children:"Demo Video"}),"\n",(0,t.jsx)("video",{src:"https://images.tuyacn.com/content-platform/hestia/1756375350889423076cc.mp4",width:"300",style:{maxWidth:"100%"},controls:!0}),"\n",(0,t.jsx)(n.h2,{id:"asr-pro-program-development",children:"ASR PRO Program Development"}),"\n",(0,t.jsx)(n.p,{children:"Tuya AI Agent supports multiple roles, and the ASR PRO module supports up to 5 wake words, each with a unique recognition ID. You can design a program where each role has a dedicated wake word. When developing the ASR PRO program, you can use the recognition ID to distinguish wake words, for example, controlling different IO pins or sending data via serial to the main controller T5."}),"\n",(0,t.jsxs)(n.p,{children:["It is recommended to use ",(0,t.jsx)(n.strong,{children:"Tianwen Block"})," for developing the ASR PRO module. Its graphical programming interface is very beginner-friendly. You can download it from the ",(0,t.jsx)(n.a,{href:"http://twen51.com/new/twen51/index.php",children:"Tianwen 51 official website"}),"."]}),"\n",(0,t.jsx)(n.h3,{id:"example-program",children:"Example Program"}),"\n",(0,t.jsx)(n.p,{children:'The system is configured with three wake words: "Hello Nezha", "Hello Zhu Bajie", and "Hello Conan". When the ASR PRO module recognizes any of these wake words, it should trigger the wake function via IO and output data via serial:'}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"After recognizing the wake word, ASR PRO will set PA4 to low for 100 ms, then pull it high."}),"\n",(0,t.jsx)(n.li,{children:"Outputs hexadecimal data via serial (PB5 PB6 pins)."}),"\n"]}),"\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"Wake Word"}),(0,t.jsx)(n.th,{children:"Serial Output"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Hello Nezha"}),(0,t.jsx)(n.td,{children:"A0 01 00"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Hello Zhu Bajie"}),(0,t.jsx)(n.td,{children:"A0 01 01"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Hello Conan"}),(0,t.jsx)(n.td,{children:"A0 01 02"})]})]})]}),"\n",(0,t.jsx)(n.h3,{id:"downloads",children:"Downloads"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Reference code: ",(0,t.jsx)(n.a,{href:"https://ccnsi48dnpj0.feishu.cn/wiki/DkQjwT9DpiHJhak5HXec01ldnRb",children:"Download here"})]}),"\n",(0,t.jsxs)(n.li,{children:["Firmware: ",(0,t.jsx)(n.a,{href:"https://images.tuyacn.com/content-platform/hestia/content-platform/hestia/1756434287f142a5459ac.zip",children:"Download here"})]}),"\n",(0,t.jsxs)(n.li,{children:["Flashing tool: ",(0,t.jsx)(n.a,{href:"https://images.tuyacn.com/content-platform/hestia/content-platform/hestia/content-platform/hestia/175643445346d29fa1f7a.zip",children:"Download here"})]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"firmware-flashing",children:"Firmware Flashing"}),"\n",(0,t.jsxs)(n.p,{children:["For instructions on firmware flashing, please refer to the ",(0,t.jsx)(n.a,{href:"https://haohaodada.com/new/tencentCloud/cloudiframe.php?id=146",children:"video tutorial"}),"."]}),"\n",(0,t.jsx)(n.p,{children:"Reference image:"}),"\n",(0,t.jsx)("img",{alt:"Firmware Flashing",src:"https://images.tuyacn.com/content-platform/hestia/17564346638e93644cea5.png",width:"800"}),"\n",(0,t.jsx)(n.h2,{id:"t5-program-development",children:"T5 Program Development"}),"\n",(0,t.jsx)(n.h3,{id:"io-wakeup",children:"IO Wakeup"}),"\n",(0,t.jsx)(n.p,{children:"IO wakeup is relatively simple. Just connect the ASR PRO's wake pin to the T5's wake pin (default P12)."}),"\n",(0,t.jsx)(n.h3,{id:"serial-wakeup",children:"Serial Wakeup"}),"\n",(0,t.jsxs)(n.p,{children:["For serial wakeup, simply check for the recognized wake command in the serial receive program and call the ",(0,t.jsx)(n.code,{children:"audio_recorder_start();"})," interface. Below is a serial example:"]})]})}function h(e={}){let{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(c,{...e})}):c(e)}},8453:function(e,n,r){r.d(n,{R:()=>s,x:()=>a});var i=r(6540);let t={},o=i.createContext(t);function s(e){let n=i.useContext(o);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:s(e.components),i.createElement(o.Provider,{value:n},e.children)}}}]);