"use strict";(self.webpackChunktuyaopen_io_website=self.webpackChunktuyaopen_io_website||[]).push([["9360"],{814:function(e,n,t){t.r(n),t.d(n,{metadata:()=>s,default:()=>v,frontMatter:()=>u,contentTitle:()=>p,toc:()=>m,assets:()=>x});var s=JSON.parse('{"id":"quick-start/enviroment-setup","title":"Set up Environment","description":"Overview","source":"@site/docs/quick-start/enviroment-setup.md","sourceDirName":"quick-start","slug":"/quick-start/enviroment-setup","permalink":"/docs/quick-start/enviroment-setup","draft":false,"unlisted":false,"editUrl":"https://github.com/Tuya-Community/TuyaOpen.io/edit/master/docs/quick-start/enviroment-setup.md","tags":[],"version":"current","frontMatter":{"title":"Set up Environment"},"sidebar":"docs","previous":{"title":"Unboxing Use","permalink":"/docs/quick-start/unboxing"},"next":{"title":"Build Project","permalink":"/docs/quick-start/project-compilation"}}'),a=t(4848),i=t(8453),l=t(6540);let o=(0,l.createContext)(),r=null,d=[];function c({children:e,defaultValue:n="windows",values:t}){let[s,i]=(0,l.useState)(r||n);(0,l.useEffect)(()=>{let e=e=>i(e);return d.push(e),()=>{d=d.filter(n=>n!==e)}},[]);let c=e=>{r=e,d.forEach(n=>n(e)),i(e)};return(0,a.jsx)(o.Provider,{value:{selected:s,setSelected:c,values:t},children:(0,a.jsxs)("div",{className:"synced-tabs",children:[(0,a.jsx)("div",{className:"tab-buttons",children:t.map(e=>(0,a.jsx)("button",{className:s===e.value?"active":"",onClick:()=>c(e.value),type:"button",children:e.label},e.value))}),(0,a.jsx)("div",{className:"tab-content",children:e})]})})}function h({value:e,children:n}){let{selected:t}=(0,l.useContext)(o);return t!==e?null:(0,a.jsx)("div",{children:n})}let u={title:"Set up Environment"},p="Set up Environment",x={},m=[{value:"Overview",id:"overview",level:2},{value:"Prepare hardware",id:"prepare-hardware",level:2},{value:"Set up environment",id:"set-up-environment-1",level:2},{value:"Download and activate TuyaOpen",id:"download-and-activate-tuyaopen",level:2},{value:"FAQs",id:"faqs",level:2},{value:"Failed to activate <code>tos.py</code>",id:"failed-to-activate-tospy",level:3}];function j(e){let n={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",ul:"ul",...(0,i.R)(),...e.components},{Details:t}=n;return t||function(e,n){throw Error("Expected "+(n?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("Details",!0),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.header,{children:(0,a.jsx)(n.h1,{id:"set-up-environment",children:"Set up Environment"})}),"\n",(0,a.jsx)(n.h2,{id:"overview",children:"Overview"}),"\n",(0,a.jsx)(n.p,{children:"Prepare necessary tools on different systems, such as Linux, Windows, and macOS."}),"\n",(0,a.jsx)(n.h2,{id:"prepare-hardware",children:"Prepare hardware"}),"\n",(0,a.jsx)(n.p,{children:"Before getting started, prepare the following resources:"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"/docs/hardware-specific/#hardware-platforms",children:"TuyaOpen-compatible development boards or modules"})}),"\n",(0,a.jsx)(n.li,{children:"USB data cable"}),"\n",(0,a.jsx)(n.li,{children:"Computer (Windows, Linux, or macOS supported)"}),"\n"]}),"\n",(0,a.jsx)(n.h2,{id:"set-up-environment-1",children:"Set up environment"}),"\n",(0,a.jsxs)(c,{defaultValue:"Linux",values:[{label:"\u{1F427} Ubuntu and Debian",value:"Linux"},{label:"\u2318 Mac",value:"Mac"},{label:"\u{1F5A5}\uFE0F Windows",value:"Windows"}],children:[(0,a.jsxs)(h,{value:"Linux",children:[(0,a.jsx)(n.admonition,{type:"info",children:(0,a.jsx)(n.p,{children:"It is recommended to use the LTS versions of Ubuntu 24, 22, and 20."})}),(0,a.jsx)(n.p,{children:"Install the necessary tools:"}),(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"sudo apt-get install lcov cmake-curses-gui build-essential ninja-build wget git python3 python3-pip python3-venv libc6-i386 libsystemd-dev\n"})})]}),(0,a.jsxs)(h,{value:"Mac",children:[(0,a.jsx)(n.admonition,{type:"info",children:(0,a.jsx)(n.p,{children:"Homebrew package manager is recommended for installation."})}),(0,a.jsx)(n.p,{children:"The default tool versions on macOS are often outdated. It is recommended to install Homebrew and update bash."}),(0,a.jsxs)(t,{children:[(0,a.jsx)("summary",{children:"Install Homebrew and update bash:"}),(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:'# Install Homebrew\n/bin/bash -c "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh)"\n\n# Install the latest bash\nbrew install bash\n\n# Add the newly installed bash to the list of available shells\necho "/usr/local/bin/bash" | sudo tee -a /etc/shells\n\n# Change the current user\'s shell to the new bash\nchsh -s /usr/local/bin/bash\n'})})]}),(0,a.jsx)(n.p,{children:"Install the necessary tools:"}),(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"# Install python3\nbrew install python3\n\n# Install Git\nbrew install git\n\n# Install make\nbrew install make\n"})})]}),(0,a.jsxs)(h,{value:"Windows",children:[(0,a.jsx)(n.admonition,{type:"info",children:(0,a.jsx)(n.p,{children:"Use Windows 10 and 11 systems."})}),(0,a.jsx)(n.admonition,{type:"warning",children:(0,a.jsx)(n.p,{children:"It is incompatible with Linux-like terminal environments on Windows (such as Git Bash and MSYS2). Please use CMD or PowerShell."})}),(0,a.jsx)(n.p,{children:"Download and install the following tools, add them to environment variables, restart your computer, and ensure the corresponding commands work correctly in the terminal:"}),(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:["Python v3.8.0 or later: ",(0,a.jsx)(n.a,{href:"https://www.python.org/downloads/windows/",children:"Download"})]}),"\n",(0,a.jsxs)(n.li,{children:["Git v2.0.0 or later: ",(0,a.jsx)(n.a,{href:"https://git-scm.com/downloads/win",children:"Download"})]}),"\n",(0,a.jsxs)(n.li,{children:["Make v3.0 or later: ",(0,a.jsx)(n.a,{href:"https://gnuwin32.sourceforge.net/packages/make.htm",children:"Download"})]}),"\n"]})]})]}),"\n",(0,a.jsx)(n.h2,{id:"download-and-activate-tuyaopen",children:"Download and activate TuyaOpen"}),"\n",(0,a.jsx)(n.p,{children:"Download the TuyaOpen repository:"}),"\n",(0,a.jsxs)(n.admonition,{type:"info",children:[(0,a.jsx)(n.p,{children:"You can adjust git configuration to improve performance:"}),(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"git config --global http.postBuffer 524288000\n"})})]}),"\n",(0,a.jsx)(n.admonition,{type:"warning",children:(0,a.jsx)(n.p,{children:"When choosing a project path, do not use Chinese characters or special characters like spaces. On Windows, do not choose the C drive."})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"# Use GitHub\ngit clone https://github.com/tuya/TuyaOpen.git\n\n# Or use Gitee\ngit clone https://gitee.com/tuya-open/TuyaOpen.git\n\n# Enter the project\ncd TuyaOpen\n"})}),"\n",(0,a.jsxs)(n.p,{children:["Activate ",(0,a.jsx)(n.code,{children:"tos.py"}),":"]}),"\n",(0,a.jsx)(n.admonition,{type:"warning",children:(0,a.jsx)(n.p,{children:"Each time the terminal is reopened, 'tos.py' needs to be reactivated."})}),"\n",(0,a.jsxs)(c,{defaultValue:"Linux",values:[{label:"\u{1F427} Linux",value:"Linux"},{label:"\u2318 Mac",value:"Mac"},{label:"\u{1F5A5}\uFE0F Windows",value:"Windows"}],children:[(0,a.jsx)(h,{value:"Linux",children:(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:". ./export.sh\n"})})}),(0,a.jsx)(h,{value:"Mac",children:(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:". ./export.sh\n"})})}),(0,a.jsx)(h,{value:"Windows",children:(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:".\\export.ps1  # # powershell needs to execute `Set-ExecutionPolicy RemoteSigned -Scope LocalMachine` first\n\n.\\export.bat  # cmd\n"})})})]}),"\n",(0,a.jsxs)(n.p,{children:["Run the commands ",(0,a.jsx)(n.code,{children:"tos.py version"})," and ",(0,a.jsx)(n.code,{children:"tos.py check"})," to verify. You will see the following information:"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"\u276F tos.py version\n[INFO]: Running tos.py ...\n[INFO]: v1.3.0\n\n\u276F tos.py check\n[INFO]: Running tos.py ...\n[INFO]: [git] (2.43.0 >= 2.0.0) is ok.\n[INFO]: [cmake] (4.0.2 >= 3.28.0) is ok.\n[INFO]: [make] (4.3 >= 3.0.0) is ok.\n[INFO]: [ninja] (1.11.1 >= 1.6.0) is ok.\n[INFO]: Downloading submodules...\n[INFO]: [do subprocess]: cd /home/huatuo/work/open/TuyaOpen && git submodule update --init\n[INFO]: Download submodules successfully.\n"})}),"\n",(0,a.jsxs)(t,{children:[(0,a.jsx)("summary",{children:"If the check command fails:"}),(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"# Tool validation failed. Please install or upgrade the required tools.\n# Submodules download failed. Manually execute the git command.\ngit submodule update --init\n"})})]}),"\n",(0,a.jsxs)(n.p,{children:["Run the following command to deactivate ",(0,a.jsx)(n.code,{children:"tos.py"}),":"]}),"\n",(0,a.jsxs)(c,{defaultValue:"Linux",values:[{label:"\u{1F427} Linux",value:"Linux"},{label:"\u2318 Mac",value:"Mac"},{label:"\u{1F5A5}\uFE0F Windows",value:"Windows"}],children:[(0,a.jsx)(h,{value:"Linux",children:(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"deactivate\n"})})}),(0,a.jsx)(h,{value:"Mac",children:(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"deactivate\n"})})}),(0,a.jsx)(h,{value:"Windows",children:(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"exit\n"})})})]}),"\n",(0,a.jsxs)(n.p,{children:["You can run the command ",(0,a.jsx)(n.code,{children:"tos.py --help"})," to view a more detailed description of ",(0,a.jsx)(n.code,{children:"tos.py"}),", or refer to the ",(0,a.jsx)(n.a,{href:"/docs/tos-tools/tos-guide",children:"tos.py Guide"}),"."]}),"\n",(0,a.jsx)(n.h2,{id:"faqs",children:"FAQs"}),"\n",(0,a.jsxs)(n.h3,{id:"failed-to-activate-tospy",children:["Failed to activate ",(0,a.jsx)(n.code,{children:"tos.py"})]}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsxs)(n.p,{children:["If activation failed, it may be because ",(0,a.jsx)(n.code,{children:"python3-venv"})," is not installed. Install it and try again."]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"sudo apt-get install python3-venv\n"})}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsxs)(n.p,{children:["When ",(0,a.jsx)(n.code,{children:"tos.py"})," is activated, the ",(0,a.jsx)(n.code,{children:"./.venv"})," directory will be created automatically. If activation failed, you need to delete the ",(0,a.jsx)(n.code,{children:"./.venv"})," directory and re-activate it."]}),"\n"]}),"\n"]})]})}function v(e={}){let{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(j,{...e})}):j(e)}},8453:function(e,n,t){t.d(n,{R:()=>l,x:()=>o});var s=t(6540);let a={},i=s.createContext(a);function l(e){let n=s.useContext(i);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:l(e.components),s.createElement(i.Provider,{value:n},e.children)}}}]);