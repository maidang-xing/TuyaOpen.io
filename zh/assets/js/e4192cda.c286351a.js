"use strict";(self.webpackChunktuyaopen_io_website=self.webpackChunktuyaopen_io_website||[]).push([["8144"],{4555:function(e,l,n){n.r(l),n.d(l,{metadata:()=>i,default:()=>h,frontMatter:()=>d,contentTitle:()=>r,toc:()=>_,assets:()=>c});var i=JSON.parse('{"id":"tkl-api/tkl_gpio","title":"tkl_gipo | GPIO \u9A71\u52A8","description":"\u7B80\u8981\u8BF4\u660E","source":"@site/i18n/zh/docusaurus-plugin-content-docs/current/tkl-api/tkl_gpio.md","sourceDirName":"tkl-api","slug":"/tkl-api/tkl_gpio","permalink":"/zh/docs/tkl-api/tkl_gpio","draft":false,"unlisted":false,"editUrl":"https://github.com/Tuya-Community/TuyaOpen.io/edit/master/i18n/zh/docusaurus-plugin-content-docs/current/tkl-api/tkl_gpio.md","tags":[],"version":"current","frontMatter":{},"sidebar":"docs","previous":{"title":"tkl_flash | Flash \u9A71\u52A8","permalink":"/zh/docs/tkl-api/tkl_flash"},"next":{"title":"tKl_i2c | I2C \u9A71\u52A8","permalink":"/zh/docs/tkl-api/tkl_i2c"}}'),t=n(4848),s=n(8453);let d={},r="tkl_gipo | GPIO \u9A71\u52A8",c={},_=[{value:"\u7B80\u8981\u8BF4\u660E",id:"\u7B80\u8981\u8BF4\u660E",level:2},{value:"GPIO \u6A21\u5F0F",id:"gpio-\u6A21\u5F0F",level:3},{value:"API \u63CF\u8FF0",id:"api-\u63CF\u8FF0",level:2},{value:"tkl_gpio_init",id:"tkl_gpio_init",level:3},{value:"tkl_gpio_deinit",id:"tkl_gpio_deinit",level:3},{value:"tkl_gpio_write",id:"tkl_gpio_write",level:3},{value:"tkl_gpio_read",id:"tkl_gpio_read",level:3},{value:"tkl_gpio_irq_init",id:"tkl_gpio_irq_init",level:3},{value:"tkl_gpio_irq_enable",id:"tkl_gpio_irq_enable",level:3},{value:"tkl_gpio_irq_disable",id:"tkl_gpio_irq_disable",level:3},{value:"\u793A\u4F8B",id:"\u793A\u4F8B",level:2},{value:"\u793A\u4F8B 1",id:"\u793A\u4F8B-1",level:3},{value:"\u793A\u4F8B 2",id:"\u793A\u4F8B-2",level:3}];function x(e){let l={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,s.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(l.header,{children:(0,t.jsx)(l.h1,{id:"tkl_gipo--gpio-\u9A71\u52A8",children:"tkl_gipo | GPIO \u9A71\u52A8"})}),"\n",(0,t.jsx)(l.h2,{id:"\u7B80\u8981\u8BF4\u660E",children:"\u7B80\u8981\u8BF4\u660E"}),"\n",(0,t.jsx)(l.p,{children:"GPIO\uFF08General Purpose I/O Ports\uFF09\u662F\u901A\u7528\u8F93\u5165/\u8F93\u51FA\u7AEF\u53E3\uFF0C\u901A\u4FD7\u5730\u8BF4\uFF0C\u5C31\u662F\u4E00\u4E9B\u5F15\u811A\uFF0C\u53EF\u4EE5\u901A\u8FC7\u5B83\u4EEC\u8F93\u51FA\u9AD8\u4F4E\u7535\u5E73\u6216\u8005\u901A\u8FC7\u5B83\u4EEC\u8BFB\u5165\u5F15\u811A\u7684\u72B6\u6001\u662F\u9AD8\u7535\u5E73\u6216\u662F\u4F4E\u7535\u5E73\u3002"}),"\n",(0,t.jsx)(l.h3,{id:"gpio-\u6A21\u5F0F",children:"GPIO \u6A21\u5F0F"}),"\n",(0,t.jsxs)(l.table,{children:[(0,t.jsx)(l.thead,{children:(0,t.jsxs)(l.tr,{children:[(0,t.jsx)(l.th,{children:"\u6A21\u5F0F"}),(0,t.jsx)(l.th,{children:"\u679A\u4E3E"})]})}),(0,t.jsxs)(l.tbody,{children:[(0,t.jsxs)(l.tr,{children:[(0,t.jsx)(l.td,{children:"\u4E0A\u62C9\u8F93\u5165"}),(0,t.jsx)(l.td,{children:"TUYA_GPIO_PULLUP"})]}),(0,t.jsxs)(l.tr,{children:[(0,t.jsx)(l.td,{children:"\u4E0B\u62C9\u8F93\u5165"}),(0,t.jsx)(l.td,{children:"TUYA_GPIO_PULLDOWN"})]}),(0,t.jsxs)(l.tr,{children:[(0,t.jsx)(l.td,{children:"\u9AD8\u963B\u8F93\u5165"}),(0,t.jsx)(l.td,{children:"TUYA_GPIO_HIGH_IMPEDANCE"})]}),(0,t.jsxs)(l.tr,{children:[(0,t.jsx)(l.td,{children:"\u6D6E\u7A7A\u8F93\u5165"}),(0,t.jsx)(l.td,{children:"TUYA_GPIO_FLOATING"})]}),(0,t.jsxs)(l.tr,{children:[(0,t.jsx)(l.td,{children:"\u63A8\u633D\u8F93\u51FA"}),(0,t.jsx)(l.td,{children:"TUYA_GPIO_PUSH_PULL"})]}),(0,t.jsxs)(l.tr,{children:[(0,t.jsx)(l.td,{children:"\u5F00\u6F0F\u8F93\u51FA"}),(0,t.jsx)(l.td,{children:"TUYA_GPIO_OPENDRAIN"})]}),(0,t.jsxs)(l.tr,{children:[(0,t.jsx)(l.td,{children:"\u5F00\u6F0F\u5E26\u4E0A\u62C9\u8F93\u51FA"}),(0,t.jsx)(l.td,{children:"TUYA_GPIO_OPENDRAIN_PULLUP"})]})]})]}),"\n",(0,t.jsx)(l.p,{children:"\u4EE5\u4E0A\u6A21\u5F0F\u9700\u8981\u5173\u6CE8\u82AF\u7247\u672C\u8EAB\u662F\u5426\u652F\u6301\uFF0C\u8FD9\u91CC\u53EA\u662F\u6A21\u5F0F\u7684\u6700\u5927\u96C6\u5408\u3002"}),"\n",(0,t.jsx)(l.h2,{id:"api-\u63CF\u8FF0",children:"API \u63CF\u8FF0"}),"\n",(0,t.jsx)(l.h3,{id:"tkl_gpio_init",children:"tkl_gpio_init"}),"\n",(0,t.jsx)(l.pre,{children:(0,t.jsx)(l.code,{className:"language-c",children:"OPERATE_RET tkl_gpio_init(TUYA_GPIO_NUM_E pin_id, const TUYA_GPIO_BASE_CFG_T *cfg);\n"})}),"\n",(0,t.jsxs)(l.ul,{children:["\n",(0,t.jsxs)(l.li,{children:["\n",(0,t.jsx)(l.p,{children:"\u529F\u80FD\u63CF\u8FF0\uFF1A"}),"\n",(0,t.jsxs)(l.ul,{children:["\n",(0,t.jsx)(l.li,{children:"GPIO \u521D\u59CB\u5316"}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(l.li,{children:["\n",(0,t.jsx)(l.p,{children:"\u53C2\u6570\uFF1A"}),"\n",(0,t.jsxs)(l.ul,{children:["\n",(0,t.jsxs)(l.li,{children:["\n",(0,t.jsxs)(l.p,{children:[(0,t.jsx)(l.code,{children:"pin_id"}),"\uFF1AGPIO \u5F15\u811A\u7F16\u53F7\uFF0C\u6B64\u7F16\u53F7\u533A\u522B\u4E8E\u82AF\u7247\u539F\u59CB\u5F15\u811A\u53F7\uFF0C\u662F\u7531\u6D82\u9E26\u6839\u636E\u82AF\u7247 PA\u3001PB ... PN \u4E0A\u7684\u5F15\u811A\u4E2A\u6570\u987A\u5E8F\u5F80\u4E0B\u7F16\u53F7\u7684\uFF1A"]}),"\n",(0,t.jsxs)(l.table,{children:[(0,t.jsx)(l.thead,{children:(0,t.jsxs)(l.tr,{children:[(0,t.jsx)(l.th,{style:{textAlign:"left"},children:"\u540D\u5B57"}),(0,t.jsx)(l.th,{style:{textAlign:"left"},children:"\u5B9A\u4E49"}),(0,t.jsx)(l.th,{style:{textAlign:"left"},children:"\u5907\u6CE8"})]})}),(0,t.jsxs)(l.tbody,{children:[(0,t.jsxs)(l.tr,{children:[(0,t.jsx)(l.td,{style:{textAlign:"left"},children:"TUYA_GPIO_NUM_0"}),(0,t.jsx)(l.td,{style:{textAlign:"left"},children:"\u5F15\u811A 0"}),(0,t.jsx)(l.td,{style:{textAlign:"left"},children:"\u8D77\u59CB\u7F16\u53F7"})]}),(0,t.jsxs)(l.tr,{children:[(0,t.jsx)(l.td,{style:{textAlign:"left"},children:"TUYA_GPIO_NUM_1"}),(0,t.jsx)(l.td,{style:{textAlign:"left"},children:"\u5F15\u811A 1"}),(0,t.jsx)(l.td,{style:{textAlign:"left"}})]}),(0,t.jsxs)(l.tr,{children:[(0,t.jsx)(l.td,{style:{textAlign:"left"},children:"TUYA_GPIO_NUM_3"}),(0,t.jsx)(l.td,{style:{textAlign:"left"},children:"\u5F15\u811A 2"}),(0,t.jsx)(l.td,{style:{textAlign:"left"}})]}),(0,t.jsxs)(l.tr,{children:[(0,t.jsx)(l.td,{style:{textAlign:"left"},children:"..."}),(0,t.jsx)(l.td,{style:{textAlign:"left"},children:"\u5F15\u811A n"}),(0,t.jsx)(l.td,{style:{textAlign:"left"}})]}),(0,t.jsxs)(l.tr,{children:[(0,t.jsx)(l.td,{style:{textAlign:"left"},children:"TUYA_GPIO_NUM_60"}),(0,t.jsx)(l.td,{style:{textAlign:"left"},children:"\u5F15\u811A 60"}),(0,t.jsx)(l.td,{style:{textAlign:"left"},children:"\u6700\u5927\u7F16\u53F7"})]})]})]}),"\n"]}),"\n",(0,t.jsxs)(l.li,{children:["\n",(0,t.jsxs)(l.p,{children:[(0,t.jsx)(l.code,{children:"cfg"}),"\uFF1AGPIO \u57FA\u7840\u914D\u7F6E\uFF0C\u53D6\u503C\u5982\u4E0B\uFF1A"]}),"\n",(0,t.jsx)(l.pre,{children:(0,t.jsx)(l.code,{className:"language-c",children:"typedef struct {\n    TUYA_GPIO_MODE_E  mode;		// gpio \u6A21\u5F0F\n    TUYA_GPIO_DRCT_E  direct;	// gpio \u8F93\u5165\u8F93\u51FA\u65B9\u5411\n    TUYA_GPIO_LEVEL_E level;	// gpio \u521D\u59CB\u5316\u7535\u5E73\n} TUYA_GPIO_BASE_CFG_T;\n"})}),"\n",(0,t.jsxs)(l.p,{children:[(0,t.jsx)(l.code,{children:"mode"})," \u5B9A\u4E49\u5982\u4E0B\uFF1A"]}),"\n",(0,t.jsxs)(l.table,{children:[(0,t.jsx)(l.thead,{children:(0,t.jsxs)(l.tr,{children:[(0,t.jsx)(l.th,{style:{textAlign:"left"},children:"\u540D\u5B57"}),(0,t.jsx)(l.th,{style:{textAlign:"left"},children:"\u5B9A\u4E49"}),(0,t.jsx)(l.th,{style:{textAlign:"left"},children:"\u5907\u6CE8"})]})}),(0,t.jsxs)(l.tbody,{children:[(0,t.jsxs)(l.tr,{children:[(0,t.jsx)(l.td,{style:{textAlign:"left"},children:"TUYA_GPIO_PULLUP"}),(0,t.jsx)(l.td,{style:{textAlign:"left"},children:"\u4E0A\u62C9\u8F93\u5165"}),(0,t.jsx)(l.td,{style:{textAlign:"left"}})]}),(0,t.jsxs)(l.tr,{children:[(0,t.jsx)(l.td,{style:{textAlign:"left"},children:"TUYA_GPIO_PULLDOWN"}),(0,t.jsx)(l.td,{style:{textAlign:"left"},children:"\u4E0B\u62C9\u8F93\u5165"}),(0,t.jsx)(l.td,{style:{textAlign:"left"}})]}),(0,t.jsxs)(l.tr,{children:[(0,t.jsx)(l.td,{style:{textAlign:"left"},children:"TUYA_GPIO_HIGH_IMPEDANCE"}),(0,t.jsx)(l.td,{style:{textAlign:"left"},children:"\u9AD8\u963B\u8F93\u5165"}),(0,t.jsx)(l.td,{style:{textAlign:"left"}})]}),(0,t.jsxs)(l.tr,{children:[(0,t.jsx)(l.td,{style:{textAlign:"left"},children:"TUYA_GPIO_FLOATING"}),(0,t.jsx)(l.td,{style:{textAlign:"left"},children:"\u6D6E\u7A7A\u8F93\u5165"}),(0,t.jsx)(l.td,{style:{textAlign:"left"}})]}),(0,t.jsxs)(l.tr,{children:[(0,t.jsx)(l.td,{style:{textAlign:"left"},children:"TUYA_GPIO_PUSH_PULL"}),(0,t.jsx)(l.td,{style:{textAlign:"left"},children:"\u63A8\u633D\u8F93\u51FA"}),(0,t.jsx)(l.td,{style:{textAlign:"left"}})]}),(0,t.jsxs)(l.tr,{children:[(0,t.jsx)(l.td,{style:{textAlign:"left"},children:"TUYA_GPIO_OPENDRAIN"}),(0,t.jsx)(l.td,{style:{textAlign:"left"},children:"\u5F00\u6F0F\u8F93\u51FA"}),(0,t.jsx)(l.td,{style:{textAlign:"left"}})]}),(0,t.jsxs)(l.tr,{children:[(0,t.jsx)(l.td,{style:{textAlign:"left"},children:"TUYA_GPIO_OPENDRAIN_PULLUP"}),(0,t.jsx)(l.td,{style:{textAlign:"left"},children:"\u5F00\u6F0F\u5E26\u4E0A\u62C9\u8F93\u51FA"}),(0,t.jsx)(l.td,{style:{textAlign:"left"}})]})]})]}),"\n",(0,t.jsxs)(l.p,{children:[(0,t.jsx)(l.code,{children:"direct"})," \u5B9A\u4E49\u5982\u4E0B\uFF1A"]}),"\n",(0,t.jsxs)(l.table,{children:[(0,t.jsx)(l.thead,{children:(0,t.jsxs)(l.tr,{children:[(0,t.jsx)(l.th,{style:{textAlign:"left"},children:"\u540D\u5B57"}),(0,t.jsx)(l.th,{style:{textAlign:"left"},children:"\u5B9A\u4E49"}),(0,t.jsx)(l.th,{style:{textAlign:"left"},children:"\u5907\u6CE8"})]})}),(0,t.jsxs)(l.tbody,{children:[(0,t.jsxs)(l.tr,{children:[(0,t.jsx)(l.td,{style:{textAlign:"left"},children:"TUYA_GPIO_INPUT"}),(0,t.jsx)(l.td,{style:{textAlign:"left"},children:"\u8F93\u5165\u6A21\u5F0F"}),(0,t.jsx)(l.td,{style:{textAlign:"left"}})]}),(0,t.jsxs)(l.tr,{children:[(0,t.jsx)(l.td,{style:{textAlign:"left"},children:"TUYA_GPIO_OUTPUT"}),(0,t.jsx)(l.td,{style:{textAlign:"left"},children:"\u8F93\u51FA\u6A21\u5F0F"}),(0,t.jsx)(l.td,{style:{textAlign:"left"}})]})]})]}),"\n",(0,t.jsxs)(l.p,{children:[(0,t.jsx)(l.code,{children:"level"})," \u5B9A\u4E49\u5982\u4E0B\uFF1A"]}),"\n",(0,t.jsxs)(l.table,{children:[(0,t.jsx)(l.thead,{children:(0,t.jsxs)(l.tr,{children:[(0,t.jsx)(l.th,{style:{textAlign:"left"},children:"\u540D\u5B57"}),(0,t.jsx)(l.th,{style:{textAlign:"left"},children:"\u5B9A\u4E49"}),(0,t.jsx)(l.th,{style:{textAlign:"left"},children:"\u5907\u6CE8"})]})}),(0,t.jsxs)(l.tbody,{children:[(0,t.jsxs)(l.tr,{children:[(0,t.jsx)(l.td,{style:{textAlign:"left"},children:"TUYA_GPIO_LEVEL_LOW"}),(0,t.jsx)(l.td,{style:{textAlign:"left"},children:"\u4F4E\u7535\u5E73"}),(0,t.jsx)(l.td,{style:{textAlign:"left"}})]}),(0,t.jsxs)(l.tr,{children:[(0,t.jsx)(l.td,{style:{textAlign:"left"},children:"TUYA_GPIO_LEVEL_HIGH"}),(0,t.jsx)(l.td,{style:{textAlign:"left"},children:"\u9AD8\u7535\u5E73"}),(0,t.jsx)(l.td,{style:{textAlign:"left"}})]})]})]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(l.li,{children:["\n",(0,t.jsx)(l.p,{children:"\u8FD4\u56DE\u503C\uFF1A"}),"\n",(0,t.jsxs)(l.ul,{children:["\n",(0,t.jsx)(l.li,{children:"OPRT_OK - \u6210\u529F"}),"\n",(0,t.jsxs)(l.li,{children:["\u5176\u4ED6\u8BF7\u53C2\u8003\u6587\u4EF6 ",(0,t.jsx)(l.code,{children:"tuya_error_code.h``OPRT_OS_ADAPTER_GPIO_ERRCODE"})," \u5B9A\u4E49\u90E8\u5206"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(l.h3,{id:"tkl_gpio_deinit",children:"tkl_gpio_deinit"}),"\n",(0,t.jsx)(l.pre,{children:(0,t.jsx)(l.code,{className:"language-c",children:"OPERATE_RET tkl_gpio_deinit(TUYA_GPIO_NUM_E pin_id)\n"})}),"\n",(0,t.jsxs)(l.ul,{children:["\n",(0,t.jsxs)(l.li,{children:["\u529F\u80FD\u63CF\u8FF0\uFF1A","\n",(0,t.jsxs)(l.ul,{children:["\n",(0,t.jsx)(l.li,{children:"GPIO \u6062\u590D\u521D\u59CB\u72B6\u6001"}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(l.li,{children:["\u53C2\u6570\uFF1A","\n",(0,t.jsxs)(l.ul,{children:["\n",(0,t.jsxs)(l.li,{children:[(0,t.jsx)(l.code,{children:"pin_id"}),"\uFF1AGPIO \u5F15\u811A\u7F16\u53F7"]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(l.li,{children:["\u8FD4\u56DE\u503C\uFF1A","\n",(0,t.jsxs)(l.ul,{children:["\n",(0,t.jsx)(l.li,{children:"OPRT_OK - \u6210\u529F"}),"\n",(0,t.jsxs)(l.li,{children:["\u5176\u4ED6\u8BF7\u53C2\u8003\u6587\u4EF6 ",(0,t.jsx)(l.code,{children:"tuya_error_code.h``OPRT_OS_ADAPTER_GPIO_ERRCODE"})," \u5B9A\u4E49\u90E8\u5206"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(l.h3,{id:"tkl_gpio_write",children:"tkl_gpio_write"}),"\n",(0,t.jsx)(l.pre,{children:(0,t.jsx)(l.code,{className:"language-c",children:"OPERATE_RET tkl_gpio_write(TUYA_GPIO_NUM_E pin_id, TUYA_GPIO_LEVEL_E level);\n"})}),"\n",(0,t.jsxs)(l.ul,{children:["\n",(0,t.jsxs)(l.li,{children:["\u529F\u80FD\u63CF\u8FF0\uFF1A","\n",(0,t.jsxs)(l.ul,{children:["\n",(0,t.jsx)(l.li,{children:"GPIO \u8F93\u51FA\u7535\u5E73"}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(l.li,{children:["\u53C2\u6570\uFF1A","\n",(0,t.jsxs)(l.ul,{children:["\n",(0,t.jsxs)(l.li,{children:[(0,t.jsx)(l.code,{children:"pin_id"}),"\uFF1AGPIO \u5F15\u811A\u7F16\u53F7"]}),"\n",(0,t.jsxs)(l.li,{children:[(0,t.jsx)(l.code,{children:"level"}),"\uFF1A GPIO \u8F93\u51FA\u7535\u5E73"]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(l.li,{children:["\u8FD4\u56DE\u503C\uFF1A","\n",(0,t.jsxs)(l.ul,{children:["\n",(0,t.jsx)(l.li,{children:"OPRT_OK - \u6210\u529F"}),"\n",(0,t.jsxs)(l.li,{children:["\u5176\u4ED6\u8BF7\u53C2\u8003\u6587\u4EF6 ",(0,t.jsx)(l.code,{children:"tuya_error_code.h``OPRT_OS_ADAPTER_GPIO_ERRCODE"})," \u5B9A\u4E49\u90E8\u5206"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(l.h3,{id:"tkl_gpio_read",children:"tkl_gpio_read"}),"\n",(0,t.jsx)(l.pre,{children:(0,t.jsx)(l.code,{className:"language-c",children:"OPERATE_RET tkl_gpio_read(TUYA_GPIO_NUM_E pin_id, TUYA_GPIO_LEVEL_E *level);\n"})}),"\n",(0,t.jsxs)(l.ul,{children:["\n",(0,t.jsxs)(l.li,{children:["\u529F\u80FD\u63CF\u8FF0\uFF1A","\n",(0,t.jsxs)(l.ul,{children:["\n",(0,t.jsx)(l.li,{children:"GPIO \u8BFB\u53D6\u7535\u5E73"}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(l.li,{children:["\u53C2\u6570\uFF1A","\n",(0,t.jsxs)(l.ul,{children:["\n",(0,t.jsxs)(l.li,{children:[(0,t.jsx)(l.code,{children:"pin_id"}),"\uFF1AGPIO \u5F15\u811A\u7F16\u53F7"]}),"\n",(0,t.jsxs)(l.li,{children:[(0,t.jsx)(l.code,{children:"*level"}),"\uFF1AGPIO \u8BFB\u53D6\u7535\u5E73\u8FD4\u56DE\u503C"]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(l.li,{children:["\u8FD4\u56DE\u503C\uFF1A","\n",(0,t.jsxs)(l.ul,{children:["\n",(0,t.jsx)(l.li,{children:"OPRT_OK - \u6210\u529F"}),"\n",(0,t.jsxs)(l.li,{children:["\u5176\u4ED6\u8BF7\u53C2\u8003\u6587\u4EF6 ",(0,t.jsx)(l.code,{children:"tuya_error_code.h``OPRT_OS_ADAPTER_GPIO_ERRCODE"})," \u5B9A\u4E49\u90E8\u5206"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(l.h3,{id:"tkl_gpio_irq_init",children:"tkl_gpio_irq_init"}),"\n",(0,t.jsx)(l.pre,{children:(0,t.jsx)(l.code,{className:"language-c",children:"OPERATE_RET tkl_gpio_irq_init(TUYA_GPIO_NUM_E pin_id, const TUYA_GPIO_IRQ_T *cfg);\n"})}),"\n",(0,t.jsxs)(l.ul,{children:["\n",(0,t.jsxs)(l.li,{children:["\n",(0,t.jsx)(l.p,{children:"\u529F\u80FD\u63CF\u8FF0\uFF1A"}),"\n",(0,t.jsxs)(l.ul,{children:["\n",(0,t.jsx)(l.li,{children:"GPIO \u4E2D\u65AD\u521D\u59CB"}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(l.li,{children:["\n",(0,t.jsx)(l.p,{children:"\u53C2\u6570\uFF1A"}),"\n",(0,t.jsxs)(l.ul,{children:["\n",(0,t.jsxs)(l.li,{children:[(0,t.jsx)(l.code,{children:"pin_id"}),"\uFF1AGPIO \u5F15\u811A\u7F16\u53F7"]}),"\n",(0,t.jsxs)(l.li,{children:[(0,t.jsx)(l.code,{children:"*cfg"}),"\uFF1A GPIO \u4E2D\u65AD\u914D\u7F6E"]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(l.li,{children:["\n",(0,t.jsxs)(l.p,{children:[(0,t.jsx)(l.code,{children:"cfg"}),"\uFF1AGPIO \u57FA\u7840\u914D\u7F6E\uFF0C\u53D6\u503C\u5982\u4E0B\uFF1A"]}),"\n",(0,t.jsx)(l.pre,{children:(0,t.jsx)(l.code,{className:"language-c",children:"typedef struct {\n    TUYA_GPIO_IRQ_E      mode;	// \u4E2D\u65AD\u6A21\u5F0F\n    TUYA_GPIO_IRQ_CB     cb;	// \u4E2D\u65AD\u56DE\u8C03\u51FD\u6570\n    void              *arg;	// \u56DE\u8C03\u51FD\u6570\u53C2\u6570\n} TUYA_GPIO_IRQ_T;\n"})}),"\n",(0,t.jsxs)(l.p,{children:[(0,t.jsx)(l.code,{children:"mode"})," \u5B9A\u4E49\u5982\u4E0B\uFF1A"]}),"\n",(0,t.jsxs)(l.table,{children:[(0,t.jsx)(l.thead,{children:(0,t.jsxs)(l.tr,{children:[(0,t.jsx)(l.th,{style:{textAlign:"left"},children:"\u540D\u5B57"}),(0,t.jsx)(l.th,{style:{textAlign:"left"},children:"\u5B9A\u4E49"}),(0,t.jsx)(l.th,{style:{textAlign:"left"},children:"\u5907\u6CE8"})]})}),(0,t.jsxs)(l.tbody,{children:[(0,t.jsxs)(l.tr,{children:[(0,t.jsx)(l.td,{style:{textAlign:"left"},children:"TUYA_GPIO_IRQ_RISE"}),(0,t.jsx)(l.td,{style:{textAlign:"left"},children:"\u4E0A\u5347\u6CBF\u6A21\u5F0F"}),(0,t.jsx)(l.td,{style:{textAlign:"left"}})]}),(0,t.jsxs)(l.tr,{children:[(0,t.jsx)(l.td,{style:{textAlign:"left"},children:"TUYA_GPIO_IRQ_FALL"}),(0,t.jsx)(l.td,{style:{textAlign:"left"},children:"\u4E0B\u964D\u6CBF\u6A21\u5F0F"}),(0,t.jsx)(l.td,{style:{textAlign:"left"}})]}),(0,t.jsxs)(l.tr,{children:[(0,t.jsx)(l.td,{style:{textAlign:"left"},children:"TUYA_GPIO_IRQ_RISE_FALL"}),(0,t.jsx)(l.td,{style:{textAlign:"left"},children:"\u53CC\u8FB9\u6CBF\u6A21\u5F0F"}),(0,t.jsx)(l.td,{style:{textAlign:"left"}})]}),(0,t.jsxs)(l.tr,{children:[(0,t.jsx)(l.td,{style:{textAlign:"left"},children:"TUYA_GPIO_IRQ_LOW"}),(0,t.jsx)(l.td,{style:{textAlign:"left"},children:"\u4F4E\u7535\u5E73\u6A21\u5F0F"}),(0,t.jsx)(l.td,{style:{textAlign:"left"}})]}),(0,t.jsxs)(l.tr,{children:[(0,t.jsx)(l.td,{style:{textAlign:"left"},children:"TUYA_GPIO_IRQ_HIGH"}),(0,t.jsx)(l.td,{style:{textAlign:"left"},children:"\u641E\u7535\u5E73\u6A21\u5F0F"}),(0,t.jsx)(l.td,{style:{textAlign:"left"}})]})]})]}),"\n",(0,t.jsxs)(l.p,{children:[(0,t.jsx)(l.code,{children:"cb"})," \u5B9A\u4E49\u5982\u4E0B\uFF1A"]}),"\n",(0,t.jsx)(l.pre,{children:(0,t.jsx)(l.code,{className:"language-c",children:"typedef void (*TUYA_GPIO_IRQ_CB)(void *args);\n"})}),"\n"]}),"\n",(0,t.jsxs)(l.li,{children:["\n",(0,t.jsx)(l.p,{children:"\u8FD4\u56DE\u503C\uFF1A"}),"\n",(0,t.jsxs)(l.ul,{children:["\n",(0,t.jsx)(l.li,{children:"OPRT_OK - \u6210\u529F"}),"\n",(0,t.jsxs)(l.li,{children:["\u5176\u4ED6\u8BF7\u53C2\u8003\u6587\u4EF6 ",(0,t.jsx)(l.code,{children:"tuya_error_code.h``OPRT_OS_ADAPTER_GPIO_ERRCODE"})," \u5B9A\u4E49\u90E8\u5206"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(l.h3,{id:"tkl_gpio_irq_enable",children:"tkl_gpio_irq_enable"}),"\n",(0,t.jsx)(l.pre,{children:(0,t.jsx)(l.code,{className:"language-c",children:"OPERATE_RET tkl_gpio_irq_enable(TUYA_GPIO_NUM_E pin_id);\n"})}),"\n",(0,t.jsxs)(l.ul,{children:["\n",(0,t.jsxs)(l.li,{children:["\u529F\u80FD\u63CF\u8FF0\uFF1A","\n",(0,t.jsxs)(l.ul,{children:["\n",(0,t.jsx)(l.li,{children:"GPIO \u4E2D\u65AD\u4F7F\u80FD\u51FD\u6570"}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(l.li,{children:["\u53C2\u6570\uFF1A","\n",(0,t.jsxs)(l.ul,{children:["\n",(0,t.jsxs)(l.li,{children:[(0,t.jsx)(l.code,{children:"pin_id"}),"\uFF1AGPIO \u5F15\u811A\u7F16\u53F7"]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(l.li,{children:["\u8FD4\u56DE\u503C\uFF1A","\n",(0,t.jsxs)(l.ul,{children:["\n",(0,t.jsx)(l.li,{children:"OPRT_OK - \u6210\u529F"}),"\n",(0,t.jsxs)(l.li,{children:["\u5176\u4ED6\u8BF7\u53C2\u8003\u6587\u4EF6 ",(0,t.jsx)(l.code,{children:"tuya_error_code.h``OPRT_OS_ADAPTER_GPIO_ERRCODE"})," \u5B9A\u4E49\u90E8\u5206"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(l.h3,{id:"tkl_gpio_irq_disable",children:"tkl_gpio_irq_disable"}),"\n",(0,t.jsx)(l.pre,{children:(0,t.jsx)(l.code,{className:"language-c",children:"OPERATE_RET tkl_gpio_irq_disable(TUYA_GPIO_NUM_E pin_id);\n"})}),"\n",(0,t.jsxs)(l.ul,{children:["\n",(0,t.jsxs)(l.li,{children:["\u529F\u80FD\u63CF\u8FF0\uFF1A","\n",(0,t.jsxs)(l.ul,{children:["\n",(0,t.jsx)(l.li,{children:"GPIO \u4E2D\u65AD\u5931\u80FD\u51FD\u6570"}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(l.li,{children:["\u53C2\u6570\uFF1A","\n",(0,t.jsxs)(l.ul,{children:["\n",(0,t.jsxs)(l.li,{children:[(0,t.jsx)(l.code,{children:"pin_id"}),"\uFF1AGPIO \u5F15\u811A\u7F16\u53F7"]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(l.li,{children:["\u8FD4\u56DE\u503C\uFF1A","\n",(0,t.jsxs)(l.ul,{children:["\n",(0,t.jsx)(l.li,{children:"OPRT_OK - \u6210\u529F"}),"\n",(0,t.jsxs)(l.li,{children:["\u5176\u4ED6\u8BF7\u53C2\u8003\u6587\u4EF6 ",(0,t.jsx)(l.code,{children:"tuya_error_code.h``OPRT_OS_ADAPTER_GPIO_ERRCODE"})," \u5B9A\u4E49\u90E8\u5206"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(l.h2,{id:"\u793A\u4F8B",children:"\u793A\u4F8B"}),"\n",(0,t.jsx)(l.h3,{id:"\u793A\u4F8B-1",children:"\u793A\u4F8B 1"}),"\n",(0,t.jsx)(l.pre,{children:(0,t.jsx)(l.code,{className:"language-c",children:"// gpio \u521D\u59CB\u5316\nvoid tuya_gpio_test(void)\n{\n    TUYA_GPIO_BASE_CFG_T cfg = {\n        .mode = TUYA_GPIO_PUSH_PULL,\n        .direct = TUYA_GPIO_OUTPUT,\n        .level = TUYA_GPIO_LEVEL_LOW,\n    };\n	  tkl_gpio_init(GPIO_NUM_3, &cfg);\n    tkl_gpio_init(GPIO_NUM_4, &cfg);\n\n    // gpio \u8F93\u51FA\n    tkl_gpio_write(GPIO_NUM_3, TUYA_GPIO_LEVEL_HIGH);\n    tkl_gpio_write(GPIO_NUM_4, TUYA_GPIO_LEVEL_HIGH);\n}\n"})}),"\n",(0,t.jsx)(l.h3,{id:"\u793A\u4F8B-2",children:"\u793A\u4F8B 2"}),"\n",(0,t.jsx)(l.pre,{children:(0,t.jsx)(l.code,{className:"language-c",children:"// \u4E2D\u65AD\u56DE\u8C03\u51FD\u6570\nstatic void __gpio_irq_callback7(void *args)\n{\n    //to do\n}\n\nstatic void __gpio_irq_callback8(void *args)\n{\n     //to do\n}\n// gpio \u4E2D\u65AD\u521D\u59CB\nvoid tuya_gpio_irq_test(void)\n{\n    TUYA_GPIO_IRQ_T irq_cfg_7 = {\n        .mode = TUYA_GPIO_IRQ_RISE,\n        .cb = __gpio_irq_callback7,\n        .arg = NULL,\n    };\n    TUYA_GPIO_IRQ_T irq_cfg_8 = {\n        .mode = TUYA_GPIO_IRQ_RISE,\n        .cb = __gpio_irq_callback8,\n        .arg = NULL,\n    };\n    tkl_gpio_irq_init(GPIO_NUM_7, &irq_cfg_7);\n    tkl_gpio_irq_init(GPIO_NUM_8, &irq_cfg_8);\n    tKl_gpio_irq_enable(GPIO_NUM_7);\n    tKl_gpio_irq_enable(GPIO_NUM_8);\n}\n"})})]})}function h(e={}){let{wrapper:l}={...(0,s.R)(),...e.components};return l?(0,t.jsx)(l,{...e,children:(0,t.jsx)(x,{...e})}):x(e)}},8453:function(e,l,n){n.d(l,{R:()=>d,x:()=>r});var i=n(6540);let t={},s=i.createContext(t);function d(e){let l=i.useContext(s);return i.useMemo(function(){return"function"==typeof e?e(l):{...l,...e}},[l,e])}function r(e){let l;return l=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:d(e.components),i.createElement(s.Provider,{value:l},e.children)}}}]);