"use strict";(self.webpackChunktuyaopen_io_website=self.webpackChunktuyaopen_io_website||[]).push([["9732"],{9305:function(n,e,l){l.r(e),l.d(e,{metadata:()=>i,default:()=>x,frontMatter:()=>c,contentTitle:()=>d,toc:()=>_,assets:()=>r});var i=JSON.parse('{"id":"tkl-api/tkl_pwm","title":"tkl_pwm | PWM \u9A71\u52A8","description":"\u7B80\u8981\u8BF4\u660E","source":"@site/i18n/zh/docusaurus-plugin-content-docs/current/tkl-api/tkl_pwm.md","sourceDirName":"tkl-api","slug":"/tkl-api/tkl_pwm","permalink":"/zh/docs/tkl-api/tkl_pwm","draft":false,"unlisted":false,"editUrl":"https://github.com/Tuya-Community/TuyaOpen.io/edit/master/i18n/zh/docusaurus-plugin-content-docs/current/tkl-api/tkl_pwm.md","tags":[],"version":"current","frontMatter":{},"sidebar":"docs","previous":{"title":"tkl_pinmux | PINMUX \u9A71\u52A8","permalink":"/zh/docs/tkl-api/tkl_pinmux"},"next":{"title":"tkl_register | Register \u9A71\u52A8","permalink":"/zh/docs/tkl-api/tkl_register"}}'),s=l(4848),t=l(8453);let c={},d="tkl_pwm | PWM \u9A71\u52A8",r={},_=[{value:"\u7B80\u8981\u8BF4\u660E",id:"\u7B80\u8981\u8BF4\u660E",level:2},{value:"API \u63CF\u8FF0",id:"api-\u63CF\u8FF0",level:2},{value:"tkl_pwm_init",id:"tkl_pwm_init",level:3},{value:"polarity:",id:"polarity",level:4},{value:"count_mode\uFF1A",id:"count_mode",level:4},{value:"duty\uFF1A",id:"duty",level:4},{value:"cycle\uFF1A",id:"cycle",level:4},{value:"frequency\uFF1A",id:"frequency",level:4},{value:"tkl_pwm_deinit",id:"tkl_pwm_deinit",level:3},{value:"tkl_pwm_start",id:"tkl_pwm_start",level:3},{value:"tkl_pwm_stop",id:"tkl_pwm_stop",level:3},{value:"tkl_pwm_multichannel_start",id:"tkl_pwm_multichannel_start",level:3},{value:"tkl_pwm_multichannel_stop",id:"tkl_pwm_multichannel_stop",level:3},{value:"tkl_pwm_info_set",id:"tkl_pwm_info_set",level:3},{value:"tkl_pwm_info_get",id:"tkl_pwm_info_get",level:3},{value:"tkl_pwm_cap_start",id:"tkl_pwm_cap_start",level:3},{value:"cap_mode\uFF1A",id:"cap_mode",level:4},{value:"trigger_level:",id:"trigger_level",level:4},{value:"clk\uFF1A",id:"clk",level:4},{value:"cb\uFF1A",id:"cb",level:4},{value:"arg\uFF1A",id:"arg",level:4},{value:"tkl_pwm_cap_stop",id:"tkl_pwm_cap_stop",level:3}];function h(n){let e={code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",img:"img",li:"li",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,t.R)(),...n.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(e.header,{children:(0,s.jsx)(e.h1,{id:"tkl_pwm--pwm-\u9A71\u52A8",children:"tkl_pwm | PWM \u9A71\u52A8"})}),"\n",(0,s.jsx)(e.h2,{id:"\u7B80\u8981\u8BF4\u660E",children:"\u7B80\u8981\u8BF4\u660E"}),"\n",(0,s.jsx)(e.p,{children:"PWM\uFF08Pulse Width Modulation\uFF09,\u5373\u8109\u51B2\u5BBD\u5EA6\u8C03\u5236\uFF0C\u5176\u662F\u5229\u7528\u5FAE\u5904\u7406\u5668\u7684\u6570\u5B57\u8F93\u51FA\u6765\u5BF9\u6A21\u62DF\u7535\u8DEF\u8FDB\u884C\u63A7\u5236\u7684\u4E00\u79CD\u6709\u6548\u7684\u6280\u672F\u3002"}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.img,{src:"https://images.tuyacn.com/fe-static/docs/img/ba656efd-316e-412a-9370-7b8f10fb94d9.png",alt:"img"})}),"\n",(0,s.jsx)(e.p,{children:"\u5982\u4E0A\u56FE\u6240\u793A\uFF0C\u4E00\u4E2A\u8109\u51B2\u5468\u671F\u4E3A 10ms \u7684 PWM \u6CE2\u5F62\u56FE,\u7B2C\u4E00\u4E2A\u5468\u671F\u9AD8\u7535\u5E73\u4E3A 7ms(\u5360\u7A7A\u6BD470%);\u7B2C\u4E8C\u4E2A\u5468\u671F\u9AD8\u7535\u5E73\u4E3A 4ms(\u5360\u7A7A\u6BD440%)\u3002\u901A\u8FC7\u8C03\u8282\u9AD8\u7535\u5E73\u5360\u7A7A\u6BD4\u7684\u503C\uFF0C\u5373\u53EF\u4EE5\u6539\u53D8\u6A21\u62DF\u8F93\u51FA\u503C\u7684\u5927\u5C0F\u3002"}),"\n",(0,s.jsx)(e.h2,{id:"api-\u63CF\u8FF0",children:"API \u63CF\u8FF0"}),"\n",(0,s.jsx)(e.h3,{id:"tkl_pwm_init",children:"tkl_pwm_init"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-c",children:"OPERATE_RET tkl_pwm_init(TUYA_PWM_NUM_E ch_id, const TUYA_PWM_BASE_CFG_T *cfg);\n"})}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsx)(e.p,{children:"\u529F\u80FD\u63CF\u8FF0:"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"\u901A\u8FC7\u7AEF\u53E3\u53F7\u548C\u57FA\u7840\u914D\u7F6E\u521D\u59CB\u5316\u5BF9\u5E94\u7684 PWM \u5B9E\u4F8B\uFF0C\u8FD4\u56DE\u521D\u59CB\u5316\u7ED3\u679C\u3002"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsx)(e.p,{children:"\u53C2\u6570:"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.code,{children:"ch_id"}),": \u901A\u9053\u53F7\u3002"]}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.code,{children:"cfg"}),": PWM \u57FA\u7840\u914D\u7F6E\uFF0C\u5305\u542B\u8F93\u51FA\u6781\u6027\uFF0C\u5360\u7A7A\u6BD4\uFF0C\u9891\u7387\u3002"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-c",children:"typedef struct {\n    TUYA_PWM_POLARITY_E polarity;\n    TUYA_PWM_COUNT_E    count_mode;\n   //pulse duty cycle = duty / cycle; exp duty = 5000,cycle = 10000; pulse duty cycle = 50%\n    uint32_t              duty;\n    uint32_t              cycle;\n    uint32_t              frequency;  // (bet: Hz)\n} TUYA_PWM_BASE_CFG_T;\n"})}),"\n",(0,s.jsx)(e.h4,{id:"polarity",children:"polarity:"}),"\n",(0,s.jsxs)(e.table,{children:[(0,s.jsx)(e.thead,{children:(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.th,{style:{textAlign:"left"},children:"\u540D\u5B57"}),(0,s.jsx)(e.th,{style:{textAlign:"left"},children:"\u5B9A\u4E49"}),(0,s.jsx)(e.th,{style:{textAlign:"left"},children:"\u5907\u6CE8"})]})}),(0,s.jsxs)(e.tbody,{children:[(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{style:{textAlign:"left"},children:"TUYA_PWM_NEGATIVE"}),(0,s.jsx)(e.td,{style:{textAlign:"left"},children:"PWM\u4F4E\u6709\u6548\u8F93\u51FA"}),(0,s.jsx)(e.td,{style:{textAlign:"left"}})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{style:{textAlign:"left"},children:"TUYA_PWM_POSITIVE"}),(0,s.jsx)(e.td,{style:{textAlign:"left"},children:"PWM\u9AD8\u6709\u6548\u8F93\u51FA"}),(0,s.jsx)(e.td,{style:{textAlign:"left"}})]})]})]}),"\n",(0,s.jsx)(e.h4,{id:"count_mode",children:"count_mode\uFF1A"}),"\n",(0,s.jsxs)(e.p,{children:["\u8BA1\u6570\u6A21\u5F0F\uFF0C\u6709 ",(0,s.jsx)(e.code,{children:"TUYA_PWM_CNT_UP"})," \u548C ",(0,s.jsx)(e.code,{children:"TUYA_PWM_CNT_UP_AND_DOWN"})," \u4E24\u79CD\u3002"]}),"\n",(0,s.jsx)(e.h4,{id:"duty",children:"duty\uFF1A"}),"\n",(0,s.jsx)(e.p,{children:"\u5360\u7A7A\u6BD4\uFF0C\u548Ccycle\u642D\u914D\u4F7F\u7528\uFF0C\u8F93\u51FA = duty / cycle \u3002"}),"\n",(0,s.jsx)(e.h4,{id:"cycle",children:"cycle\uFF1A"}),"\n",(0,s.jsx)(e.p,{children:"\u5468\u671F\uFF0C\u6216\u9897\u7C92\u5EA6\uFF0C\u8F93\u51FA = duty / cycle\u3002"}),"\n",(0,s.jsx)(e.h4,{id:"frequency",children:"frequency\uFF1A"}),"\n",(0,s.jsx)(e.p,{children:"\u8F93\u51FA\u9891\u7387\uFF0C\u5355\u4F4DHz\u3002"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsx)(e.p,{children:"\u8FD4\u56DE\u503C:"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:["OPRT_OK \u6210\u529F\uFF0C\u5176\u4ED6\u8BF7\u53C2\u8003\u6587\u4EF6 ",(0,s.jsx)(e.code,{children:"tuya_error_code.h"}),"\u3002"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(e.h3,{id:"tkl_pwm_deinit",children:"tkl_pwm_deinit"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-c",children:"OPERATE_RET tkl_pwm_deinit(TUYA_PWM_NUM_E ch_id);\n"})}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:["\u529F\u80FD\u63CF\u8FF0:","\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"PWM \u5B9E\u4F8B\u53CD\u521D\u59CB\u5316\u3002"}),"\n",(0,s.jsx)(e.li,{children:"\u8BE5\u63A5\u53E3\u4F1A\u505C\u6B62 PWM \u5B9E\u4F8B\u6B63\u5728\u8FDB\u884C\u7684\u4F20\u8F93\uFF08\u5982\u679C\u6709\uFF09\uFF0C\u5E76\u4E14\u91CA\u653E\u76F8\u5173\u7684\u8F6F\u786C\u4EF6\u8D44\u6E90\u3002"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["\u53C2\u6570:","\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.code,{children:"ch_id"}),": \u901A\u9053\u53F7\u3002"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["\u8FD4\u56DE\u503C:","\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:["OPRT_OK \u6210\u529F\uFF0C\u5176\u4ED6\u8BF7\u53C2\u8003\u6587\u4EF6 ",(0,s.jsx)(e.code,{children:"tuya_error_code.h"}),"\u3002"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(e.h3,{id:"tkl_pwm_start",children:"tkl_pwm_start"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-c",children:"OPERATE_RET tkl_pwm_start(TUYA_PWM_NUM_E ch_id);\n"})}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:["\u529F\u80FD\u63CF\u8FF0:","\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"\u542F\u52A8pwm\u3002"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["\u53C2\u6570:","\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.code,{children:"ch_id"}),": \u901A\u9053\u53F7\u3002"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["\u8FD4\u56DE\u503C:","\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:["OPRT_OK \u6210\u529F\uFF0C\u5176\u4ED6\u8BF7\u53C2\u8003\u6587\u4EF6 ",(0,s.jsx)(e.code,{children:"tuya_error_code.h"}),"\u3002"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(e.h3,{id:"tkl_pwm_stop",children:"tkl_pwm_stop"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-c",children:"OPERATE_RET tkl_pwm_stop(TUYA_PWM_NUM_E ch_id);\n"})}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:["\u529F\u80FD\u63CF\u8FF0:","\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"\u505C\u6B62 PWM\u3002"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["\u53C2\u6570:","\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.code,{children:"port"}),": \u7AEF\u53E3\u53F7\u3002"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["\u8FD4\u56DE\u503C:","\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:["OPRT_OK \u6210\u529F\uFF0C\u5176\u4ED6\u8BF7\u53C2\u8003\u6587\u4EF6 ",(0,s.jsx)(e.code,{children:"tuya_error_code.h"}),"\u3002"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(e.h3,{id:"tkl_pwm_multichannel_start",children:"tkl_pwm_multichannel_start"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-c",children:"OPERATE_RET tkl_pwm_multichannel_start(TUYA_PWM_NUM_E *ch_id, uint8_t num);\n"})}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:["\u529F\u80FD\u63CF\u8FF0:","\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"\u540C\u65F6\u542F\u52A8\u591A\u901A\u9053 PWM\uFF0C\u7528\u4E8E\u591A\u8DEF\u7EC4\u5408\u8F93\u51FA\uFF0C\u7528\u4E8E\u5BF9\u65F6\u5E8F\u8981\u6C42\u6BD4\u8F83\u4E25\u683C\u7684\u573A\u666F\u3002"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["\u53C2\u6570:","\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.code,{children:"ch_id"}),": \u901A\u9053\u53F7\u5217\u8868\uFF0C\u6570\u7EC4\u3002"]}),"\n",(0,s.jsx)(e.li,{children:"num\uFF1A\u542F\u52A8\u7684\u901A\u9053\u53F7\u6570\u76EE"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["\u8FD4\u56DE\u503C:","\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:["OPRT_OK \u6210\u529F\uFF0C\u5176\u4ED6\u8BF7\u53C2\u8003\u6587\u4EF6 ",(0,s.jsx)(e.code,{children:"tuya_error_code.h"}),"\u3002"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(e.h3,{id:"tkl_pwm_multichannel_stop",children:"tkl_pwm_multichannel_stop"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-c",children:"OPERATE_RET tkl_pwm_multichannel_stop(TUYA_PWM_NUM_E *ch_id, uint8_t num);\n"})}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsx)(e.p,{children:"\u529F\u80FD\u63CF\u8FF0:"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"\u540C\u65F6\u505C\u6B62\u591A\u901A\u9053 PWM\uFF0C\u7528\u4E8E\u591A\u8DEF\u7EC4\u5408\u8F93\u51FA\uFF0C\u5BF9\u65F6\u5E8F\u8981\u6C42\u6BD4\u8F83\u4E25\u683C\u7684\u573A\u666F\u3002"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsx)(e.p,{children:"\u53C2\u6570:"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.code,{children:"ch_id"}),": \u901A\u9053\u53F7\u5217\u8868\uFF0C\u6570\u7EC4\u3002"]}),"\n",(0,s.jsx)(e.li,{children:"num\uFF1A\u9700\u8981\u5173\u95ED\u7684\u901A\u9053\u53F7\u6570\u76EE"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsx)(e.p,{children:"\u8FD4\u56DE\u503C:"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:["OPRT_OK \u6210\u529F\uFF0C\u5176\u4ED6\u8BF7\u53C2\u8003\u6587\u4EF6 ",(0,s.jsx)(e.code,{children:"tuya_error_code.h"}),"\u3002"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(e.h3,{id:"tkl_pwm_info_set",children:"tkl_pwm_info_set"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-c",children:"OPERATE_RET tkl_pwm_info_set(TUYA_PWM_NUM_E ch_id, const TUYA_PWM_BASE_CFG_T *info);\n"})}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:["\u529F\u80FD\u63CF\u8FF0:","\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"\u91CD\u8BBE PWM \u914D\u7F6E\u53C2\u6570\uFF0Cpwm start\u4E4B\u540E\u53EF\u52A8\u6001\u4FEE\u6539\u914D\u7F6E\uFF0C\u8865\u5145\u91CD\u65B0s tart\u3002"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["\u53C2\u6570:","\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.code,{children:"ch_id"}),": \u901A\u9053\u53F7\u3002"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.code,{children:"info"}),": PWM \u57FA\u7840\u914D\u7F6E\uFF0C\u5305\u542B\u8F93\u51FA\u6781\u6027\uFF0C\u5360\u7A7A\u6BD4\uFF0C\u9891\u7387 \u3002\u5176\u7ED3\u6784\u4F53\u53C2\u6570\u89C1\u4E0A\u6587\u63CF\u8FF0"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["\u8FD4\u56DE\u503C:","\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:["\u9519\u8BEF\u7801\uFF0COPRT_OK \u6210\u529F\uFF0C\u5176\u4ED6\u8BF7\u53C2\u8003\u6587\u4EF6 ",(0,s.jsx)(e.code,{children:"tuya_error_code.h"}),"\u3002"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(e.h3,{id:"tkl_pwm_info_get",children:"tkl_pwm_info_get"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-c",children:"OPERATE_RET tkl_pwm_info_get(TUYA_PWM_NUM_E ch_id, TUYA_PWM_BASE_CFG_T *info);\n"})}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"\u529F\u80FD\u63CF\u8FF0:"}),"\n",(0,s.jsxs)(e.li,{children:["\u53C2\u6570:","\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.code,{children:"ch_id"}),": \u901A\u9053\u53F7\u3002"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.code,{children:"info"}),": PWM \u57FA\u7840\u914D\u7F6E\uFF0C\u5305\u542B\u8F93\u51FA\u6781\u6027\uFF0C\u5360\u7A7A\u6BD4\uFF0C\u9891\u7387 \u3002\u5176\u7ED3\u6784\u4F53\u53C2\u6570\u89C1\u4E0A\u6587\u63CF\u8FF0"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["\u8FD4\u56DE\u503C:","\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:["\u9519\u8BEF\u7801\uFF0COPRT_OK \u6210\u529F\uFF0C\u5176\u4ED6\u8BF7\u53C2\u8003\u6587\u4EF6 ",(0,s.jsx)(e.code,{children:"tuya_error_code.h"}),"\u3002"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(e.h3,{id:"tkl_pwm_cap_start",children:"tkl_pwm_cap_start"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-c",children:"OPERATE_RET tkl_pwm_cap_start(TUYA_PWM_NUM_E ch_id, const TUYA_PWM_CAP_IRQ_T *cfg);\n"})}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsx)(e.p,{children:"\u529F\u80FD\u63CF\u8FF0:"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"\u5F00\u542F PWM \u8F93\u5165\u6355\u83B7\u6A21\u5F0F\u3002"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsx)(e.p,{children:"\u53C2\u6570:"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.code,{children:"ch_id"}),": \u901A\u9053\u53F7\u3002"]}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.code,{children:"cfg"}),": PWM \u8F93\u5165\u6355\u83B7\u914D\u7F6E\uFF0C\u5982\u4E0B\u8BE6\u8FF0\u3002"]}),"\n",(0,s.jsx)(e.h4,{id:"cap_mode",children:"cap_mode\uFF1A"}),"\n",(0,s.jsxs)(e.table,{children:[(0,s.jsx)(e.thead,{children:(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.th,{style:{textAlign:"left"},children:"\u540D\u5B57"}),(0,s.jsx)(e.th,{style:{textAlign:"left"},children:"\u5B9A\u4E49"}),(0,s.jsx)(e.th,{style:{textAlign:"left"},children:"\u5907\u6CE8"})]})}),(0,s.jsxs)(e.tbody,{children:[(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{style:{textAlign:"left"},children:"TUYA_PWM_CAPTURE_MODE_ONCE"}),(0,s.jsx)(e.td,{style:{textAlign:"left"},children:"\u5355\u6B21\u89E6\u53D1\u6A21\u5F0F"}),(0,s.jsx)(e.td,{style:{textAlign:"left"}})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{style:{textAlign:"left"},children:"TUYA_PWM_CAPTURE_MODE_PERIOD"}),(0,s.jsx)(e.td,{style:{textAlign:"left"},children:"\u591A\u6B21\u89E6\u53D1\u6A21\u5F0F"}),(0,s.jsx)(e.td,{style:{textAlign:"left"}})]})]})]}),"\n",(0,s.jsx)(e.h4,{id:"trigger_level",children:"trigger_level:"}),"\n",(0,s.jsxs)(e.table,{children:[(0,s.jsx)(e.thead,{children:(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.th,{style:{textAlign:"left"},children:"\u540D\u5B57"}),(0,s.jsx)(e.th,{style:{textAlign:"left"},children:"\u5B9A\u4E49"}),(0,s.jsx)(e.th,{style:{textAlign:"left"},children:"\u5907\u6CE8"})]})}),(0,s.jsxs)(e.tbody,{children:[(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{style:{textAlign:"left"},children:"TUYA_PWM_NEGATIVE"}),(0,s.jsx)(e.td,{style:{textAlign:"left"},children:"\u89E6\u53D1\u4FE1\u53F7\u4E3A\u4E0B\u964D\u6CBF"}),(0,s.jsx)(e.td,{style:{textAlign:"left"}})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{style:{textAlign:"left"},children:"TUYA_PWM_POSITIVE"}),(0,s.jsx)(e.td,{style:{textAlign:"left"},children:"\u89E6\u53D1\u4FE1\u53F7\u4E3A\u4E0A\u5347\u6CBF"}),(0,s.jsx)(e.td,{style:{textAlign:"left"}})]})]})]}),"\n",(0,s.jsx)(e.h4,{id:"clk",children:"clk\uFF1A"}),"\n",(0,s.jsx)(e.p,{children:"\u6293\u53D6\u4FE1\u53F7\u7684\u91C7\u6837\u65F6\u949F\u3002"}),"\n",(0,s.jsx)(e.h4,{id:"cb",children:"cb\uFF1A"}),"\n",(0,s.jsx)(e.p,{children:"\u6293\u53D6\u4FE1\u53F7\u7684\u56DE\u8C03\u51FD\u6570,\u5982\u4E0B\uFF1A"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-c",children:"typedef void(*TUYA_PWM_IRQ_CB)(TUYA_PWM_NUM_E port, TUYA_PWM_CAPTURE_DATA_T data, void *arg);\n"})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-c",children:"typedef struct {\n    uint32_t      cap_value;            /* Captured data */\n    TUYA_PWM_POLARITY_E cap_edge;     /* Capture edge, TUYA_PWM_NEGATIVE:falling edge, TUYA_PWM_POSITIVE:rising edge */\n} TUYA_PWM_CAPTURE_DATA_T;\n"})}),"\n",(0,s.jsx)(e.h4,{id:"arg",children:"arg\uFF1A"}),"\n",(0,s.jsx)(e.p,{children:"\u56DE\u8C03\u51FD\u6570\u53C2\u6570\u3002"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsx)(e.p,{children:"\u8FD4\u56DE\u503C:"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:["\u9519\u8BEF\u7801\uFF0COPRT_OK \u6210\u529F\uFF0C\u5176\u4ED6\u8BF7\u53C2\u8003\u6587\u4EF6 ",(0,s.jsx)(e.code,{children:"tuya_error_code.h"}),"\u3002"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(e.h3,{id:"tkl_pwm_cap_stop",children:"tkl_pwm_cap_stop"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-c",children:"OPERATE_RET tkl_pwm_cap_stop(TUYA_PWM_NUM_E ch_id);\n"})}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsx)(e.p,{children:"\u529F\u80FD\u63CF\u8FF0:"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"\u5173\u95ED PWM \u8F93\u5165\u6355\u83B7\u6A21\u5F0F\u3002"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsx)(e.p,{children:"\u53C2\u6570:"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.code,{children:"ch_id"}),": \u901A\u9053\u53F7\u3002"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsx)(e.p,{children:"\u8FD4\u56DE\u503C:"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:["\u9519\u8BEF\u7801\uFF0COPRT_OK \u6210\u529F\uFF0C\u5176\u4ED6\u8BF7\u53C2\u8003\u6587\u4EF6 ",(0,s.jsx)(e.code,{children:"tuya_error_code.h"}),"\u3002"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(e.h1,{id:"pwm-\u793A\u4F8B",children:"PWM \u793A\u4F8B"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-c",children:"void tuya_pwm_test(void)\n{\n    OPERATE_RET ret;\n 	  TUYA_PWM_BASE_CFG_T cfg = {.polarity = TUYA_PWM_POSITIVE,\\\n                         .duty = 1000,\n                         .cycle = 10000,\n                         .frequency = 1000};\n    ret = tkl_pwm_init(TUYA_PWM_NUM_0, &cfg);\n    if (ret != OPRT_OK) {\n        //fail\n        return;\n    }\n    ret = tkl_pwm_start(TUYA_PWM_NUM_0);\n    if (ret != OPRT_OK) {\n        //fail\n        return;\n    }\n    tkl_system_delay(5000);\n    ret = tkl_pwm_info_get(TUYA_PWM_NUM_0, &cfg);\n    if (ret != OPRT_OK) {\n        //fail\n        return;\n    }\n    if(cfg.duty !=5000){\n        cfg.duty =5000;\n    }\n    ret = tkl_pwm_info_set(TUYA_PWM_NUM_0, &cfg);\n    //delay\n    tkl_system_delay(5000);\n    ret = tkl_pwm_stop(TUYA_PWM_NUM_0);\n    if (ret != OPRT_OK) {\n        //fail\n        return;\n    }\n    ret = tkl_pwm_deinit(TKL_PWM1_CH);\n    if (ret != OPRT_OK) {\n        //fail\n        return;\n    }\n}\n"})})]})}function x(n={}){let{wrapper:e}={...(0,t.R)(),...n.components};return e?(0,s.jsx)(e,{...n,children:(0,s.jsx)(h,{...n})}):h(n)}},8453:function(n,e,l){l.d(e,{R:()=>c,x:()=>d});var i=l(6540);let s={},t=i.createContext(s);function c(n){let e=i.useContext(t);return i.useMemo(function(){return"function"==typeof n?n(e):{...e,...n}},[e,n])}function d(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(s):n.components||s:c(n.components),i.createElement(t.Provider,{value:e},n.children)}}}]);